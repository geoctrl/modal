{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 81369d37459c9e4e7aba","webpack:///./app/ts-modal/index.js","webpack:///./app/ts-modal/ts-modal.scss","webpack:///./app/ts-modal/_utils.js","webpack:///./app/ts-modal/_default-options.js","webpack:///./app/ts-modal/modal-class.js"],"names":[],"mappings":"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","file":"ts-modal.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 81369d37459c9e4e7aba\n **/","// require app styles\nimport './ts-modal.scss';\n\nimport { resolve, dashCase, label, getScrollbarWidth } from './_utils';\nimport modalClass from './modal-class';\n\n// set ng module\nlet app = angular.module('ts.modal', []);\n\n/**\n * tsModalService\n */\napp.service('tsModalService', function($rootScope, $document, $compile, $injector, $q) {\n\t\"ngInject\";\n\n\t// variables\n\tlet $scope = $rootScope.$new(),\n\t\t\tmodalArray = [],\n\t\t\tstash = {},\n\t\t\tisInit = true,\n\t\t\tisDestroy = false,\n\n\t\t\t// elements\n\t\t\tbody = angular.element($document[0].body),\n\t\t\tcontainerEl = angular.element(`<div class=\"modal-container\"></div>`),\n\t\t\tbackdropEl = angular.element(`<div class=\"modal-backdrop\"></div>`),\n\t\t\tmodalContainEl = angular.element(`<div class=\"modal-contain\" tabindex=\"0\"></div>`),\n\t\t\tmodalEl = angular.element(`<div class=\"modal\"></div>`);\n\n\n\t// store data here\n\t$scope.data = {};\n\n\t/**\n\t * initialize\n\t * no modals present, build structure\n\t */\n\tfunction init() {\n\t\tcontainerEl.append(backdropEl);\n\t\tbody.append(containerEl);\n\t}\n\n\t/**\n\t * destroy\n\t * done with modals, clean up\n\t * assumes only one modal is left\n\t */\n\tfunction destroy() {\n\t\tcontainerEl[0].style.display = 'none';\n\t\tmodalArray = [];\n\t\tisInit = true;\n\t\tisDestroy = false;\n\t}\n\n\t/**\n\t * build modal\n\t * @param modal\n\t * @param data\n\t */\n\tfunction buildModal(modal, data) {\n\t\t// set data\n\t\t$scope.data[modal._id] = data;\n\n\t\t// create new element\n\t\tlet newModalContainEl = angular.copy(modalContainEl),\n\t\t\t\tnewModalEl = angular.copy(modalEl),\n\t\t\t\tdirectiveEl = angular.element(`<${dashCase(modal._options.directive)}></${dashCase(modal._options.directive)}>`);\n\n\t\t// apply data to directive\n\t\tangular.forEach(data, (item, key) => {\n\t\t\tdirectiveEl.attr(dashCase(key), `data['${modal._id}'].${key}`);\n\t\t});\n\n\t\t// set size\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.size}`);\n\n\t\t// set display\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.display}`);\n\n\t\t// set z-index\n\t\tnewModalContainEl[0].style.zIndex = (modalArray.length*2)+1;\n\n\t\t// add modal to modal array\n\t\tmodalArray.push({\n\t\t\tdata: modal,\n\t\t\tcontainEl: newModalContainEl,\n\t\t\tel: newModalEl\n\t\t});\n\n\t\t// create click event for containEl\n\t\tnewModalContainEl[0].addEventListener('click', clickEventHandler);\n\n\t\t// build modal elements\n\t\tnewModalEl.append(directiveEl);\n\t\tnewModalContainEl.append(newModalEl);\n\t\tcontainerEl.append(newModalContainEl);\n\t\t$compile(newModalContainEl)($scope);\n\n\t\t// show\n\t\tcontrolIn(modalArray[modalArray.length-1]);\n\t}\n\n\t/**\n\t * Control In\n\t * @param modal\n\t */\n\tfunction controlIn(modal) {\n\n\t\t// set backdrop z-index\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2;\n\n\t\t// display some elements\n\t\tmodal.el[0].style.display = 'block';\n\t\tcontainerEl[0].style.display = 'block';\n\n\t\t// if animation is available and set to true\n\t\tif (modal.data._options.animate && Velocity) {\n\t\t\tif (isInit) {\n\t\t\t\t// if this is the first modal, fade in the backdrop\n\t\t\t\tVelocity(backdropEl, {\n\t\t\t\t\topacity: [1, 0]\n\t\t\t\t}, {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\t\tduration: modal.data._options.animateDuration\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tVelocity(modal.el, {\n\t\t\t\topacity: 1,\n\t\t\t\ttranslateY: [0, `-100%`]\n\t\t\t}, {\n\t\t\t\tdelay: 100,\n\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tif (isInit) {\n\t\t\t\t\t\taddEvents();\n\t\t\t\t\t\tsetFocus(modal.containEl);\n\t\t\t\t\t}\n\t\t\t\t\tisInit = false;\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tbackdropEl[0].style.display = 'block';\n\t\t\tsetFocus(modal.containEl);\n\n\t\t\tif (modal.data._options.animate && !Velocity) {\n\t\t\t\tconsole.warn(`${label} Velocity library is not available - cannot animate`);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Control Out\n\t * @param modal\n\t */\n\tfunction controlOut(modal) {\n\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2;\n\t\tmodal.containEl[0].removeEventListener('click', clickEventHandler);\n\n\n\t\tif (modal.data._options.animate && Velocity) {\n\t\t\tVelocity(modal.el, {\n\t\t\t\topacity: .6,\n\t\t\t\ttranslateY: `-100%`\n\t\t\t}, {\n\t\t\t\tdisplay: 'none',\n\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tmodal.containEl.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isDestroy) {\n\t\t\t\tVelocity(backdropEl, {\n\t\t\t\t\topacity: 0\n\t\t\t\t}, {\n\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\tdestroy();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tmodal.containEl.remove();\n\t\t\tif (isDestroy) {\n\t\t\t\tbackdropEl[0].style.display = 'none';\n\t\t\t\tdestroy();\n\t\t\t}\n\t\t\tif (modal.data._options.animate && !Velocity) {\n\t\t\t\tconsole.warn(`${label} Velocity library is not available - cannot animate`);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction keyPressHandler(e) {\n\t\tif (e.keyCode == 27) {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\tfunction clickEventHandler(e) {\n\t\tlet modal = modalArray[modalArray.length-1];\n\t\tif (e.target == modal.containEl[0] && modal.data._options.closeBackdrop && !isInit) {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\tfunction go(data, type) {\n\t\tlet modal = modalArray[modalArray.length-1];\n\t\tif (modal) {\n\t\t\tif (modalArray.length==1) {\n\t\t\t\tisDestroy = true;\n\t\t\t\tremoveEvents();\n\t\t\t}\n\t\t\tmodalArray.pop();\n\t\t\tif (type == 'submit') {\n\t\t\t\tmodal.data.getPromise().resolve(data);\n\t\t\t} else {\n\t\t\t\tmodal.data.getPromise().reject(data);\n\t\t\t}\n\t\t\tcontrolOut(modal);\n\t\t}\n\t}\n\n\tfunction cancel(data) {\n\t\tgo(data, 'cancel');\n\t}\n\n\tfunction submit(data) {\n\t\tgo(data, 'submit');\n\t}\n\n\tfunction addEvents() {\n\t\t$document[0].addEventListener('keydown', keyPressHandler);\n\t}\n\n\tfunction removeEvents() {\n\t\t$document[0].removeEventListener('keydown', keyPressHandler);\n\t}\n\n\tfunction setFocus(el) {\n\t\tvar inputWithAutofocus = el[0].querySelector('[autofocus]');\n\t\tif (inputWithAutofocus) {\n\t\t\tinputWithAutofocus.focus();\n\t\t} else {\n\t\t\tel[0].focus();\n\t\t}\n\t}\n\n\n\t/**\n\t * public API\n\t */\n\treturn {\n\t\topen(opts) {\n\n\t\t\t// create new modal\n\t\t\tlet newModal = new modalClass(opts, $injector);\n\n\t\t\tnewModal.setPromise($q.defer());\n\n\t\t\t// init if there's no elements\n\t\t\tif (isInit) init();\n\n\t\t\tif (opts.resolve) {\n\t\t\t\tresolve($q, opts.resolve).then(\n\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\tbuildModal(newModal, res);\n\t\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tbuildModal(newModal);\n\t\t\t}\n\n\t\t\treturn newModal.getPromise().promise;\n\t\t},\n\n\t\tsubmit: submit,\n\t\tcancel: cancel\n\t};\n});\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/index.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/ts-modal/ts-modal.scss\n ** module id = 1\n ** module chunks = 0\n **/","import defaultOptions from './_default-options';\nexport const label =  `[tsModalService]`;\n\n/**\n * create guid\n * @returns {*} guid\n */\nexport function guid() {\n\treturn ((typeof(window.crypto) != 'undefined'\n\t\t\t&& typeof(window.crypto.getRandomValues) != 'undefined')\n\t\t\t\t\t? function() { // If we have a cryptographically secure PRNG\n\t\t\t\tvar buf = new Uint16Array(8);\n\t\t\t\twindow.crypto.getRandomValues(buf);\n\t\t\t\tvar S4 = function(num) {\n\t\t\t\t\tvar ret = num.toString(16);\n\t\t\t\t\twhile(ret.length < 4){ ret = \"0\"+ret; }\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t\treturn (S4(buf[0])+S4(buf[1])+\"-\"\n\t\t\t\t+S4(buf[2])+\"-\"+S4(buf[3])+\"-\"\n\t\t\t\t+S4(buf[4])+\"-\"+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n\t\t\t}\n\t\t\t\t\t: function() { // Otherwise, just use Math.random\n\t\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t/[xy]/g,\n\t\t\t\t\t\t\t\tfunction(c) {\n\t\t\t\t\t\t\t\t\tvar r = Math.random()*16|0,\n\t\t\t\t\t\t\t\t\t\t\tv = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t\t\t\t\t\t\treturn v.toString(16);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t); // replace\n\t\t\t}\n\t)();\n}\n\nexport function dashCase(str) {\n\treturn str.replace(/([A-Z])/g, function($1){return \"-\"+$1.toLowerCase()});\n}\n\n\n/**\n * validate options\n * also cleans it up\n * @param options\n * @param $injector\n */\nexport function cleanValidateOptions(options, $injector) {\n\n\t// check if options is an object and if it has a directive property\n\tif (typeof options !== 'object' || !options.directive) {\n\t\tthrow `${label} directive property is required`;\n\n\t// check if directive is a string\n\t} else if (typeof options.directive !== 'string') {\n\t\tthrow `${label} directive must be a string`;\n\n\t// check if directive is available in ng module\n\t} else if (!$injector.has(options.directive + 'Directive')) {\n\t\tthrow `${label} ${options.directive} is not a valid directive`;\n\t}\n\n\t// assign\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// size\n\t// force medium default when an unknown value is supplied\n\tif (options.size != 'small' && options.size != 'medium' && options.size != 'large') {\n\t\tconsole.warn(`[Modal Warning] ${options.size ? options.size : 'Unknown'} is not a valid size - defaulting to \"medium\" (small|medium|large)`);\n\t\toptions.size = 'medium';\n\t}\n\n\t// display\n\t// force 'notification' default when an unknown display is supplied\n\tif (options.display != 'component' & options.display != 'notification') {\n\t\tconsole.warn(`${label} ${options.display ? options.display : 'Unknown'} is not a valid display type - defaulting to \"notification\" (component|notification)`);\n\t\toptions.display = 'scroll';\n\t}\n\n\treturn options;\n}\n\nexport function getScrollbarWidth() {\n\tvar outer = document.createElement(\"div\");\n\touter.style.visibility = \"hidden\";\n\touter.style.width = \"100px\";\n\touter.style.msOverflowStyle = \"scrollbar\"; // needed for WinJS apps\n\n\tdocument.body.appendChild(outer);\n\n\tvar widthNoScroll = outer.offsetWidth;\n\t// force scrollbars\n\touter.style.overflow = \"scroll\";\n\n\t// add innerdiv\n\tvar inner = document.createElement(\"div\");\n\tinner.style.width = \"100%\";\n\touter.appendChild(inner);\n\n\tvar widthWithScroll = inner.offsetWidth;\n\n\t// remove divs\n\touter.parentNode.removeChild(outer);\n\n\treturn widthNoScroll - widthWithScroll;\n}\n\n\n\nexport function resolve($q, obj) {\n\tlet promises = [];\n\tlet names = [];\n\n\tfor (let r in obj) {\n\n\t\tif (typeof obj[r] !== 'function') {\n\t\t\tthrow `${label} resolve must return object of functions`;\n\t\t} else {\n\t\t\tnames.push(r);\n\t\t\tlet deferred = $q(resolve => {\n\t\t\t\tresolve(obj[r]())\n\t\t\t});\n\n\t\t\tpromises.push(deferred);\n\t\t}\n\t}\n\n\treturn $q.all(promises).then(\n\t\t\tres => {\n\t\t\t\tlet o = {};\n\t\t\t\tfor (let i=0; i < res.length; i++) {\n\t\t\t\t\to[names[i]] = res[i];\n\t\t\t\t}\n\t\t\t\treturn o;\n\t\t\t}\n\t);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_utils.js\n **/","\nexport default {\n\n\t/**\n\t * size\n\t * decides the width\n\t * @type string (small|medium|large)\n\t */\n\tsize: 'medium',\n\n\t/**\n\t * display\n\t * decides the display type\n\t * @type string (component|notification)\n\t */\n\tdisplay: 'notification',\n\n\t/**\n\t * backdrop\n\t * show/hide backdrop\n\t * @type boolean\n\t */\n\tbackdrop: true,\n\n\t/**\n\t * closeBackdrop\n\t * if true, allows users to close modal by clicking backdrop\n\t * @type boolean\n\t */\n\tcloseBackdrop: true,\n\n\t/**\n\t * closeEscape\n\t * if true allows users to close modal by pressing 'esc'\n\t * @type boolean\n\t */\n\tcloseEscape: true,\n\n\t/**\n\t * animate\n\t * whether to animate the modal\n\t * @type boolean\n\t */\n\tanimate: true,\n\n\t/**\n\t * animateDuration\n\t * duration of animation\n\t * @type int\n\t */\n\tanimateDuration: 400\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_default-options.js\n **/","import { cleanValidateOptions, guid } from './_utils';\n\n/**\n * Class representing a Modal\n * used by the Modal service\n */\nexport default class {\n\t/**\n\t * create modal\n\t * @param opts\n\t * @param $injector\n\t */\n\tconstructor(opts={}, $injector) {\n\t\t// make sure all params and options are in order\n\t\tthis._options = cleanValidateOptions(opts, $injector);\n\t\tthis._id = guid();\n\t}\n\t\n\tsetPromise(defer) {\n\t\tthis._defer = defer;\n\t}\n\n\tgetPromise() {\n\t\treturn this._defer;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/modal-class.js\n **/"],"sourceRoot":""}