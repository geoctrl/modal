{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap c0b9764ca9a5693a53e3","webpack:///./app/ts-modal/index.js","webpack:///./app/ts-modal/ts-modal-svc.js","webpack:///./app/ts-modal/_utils.js","webpack:///./app/ts-modal/_default-options.js","webpack:///./app/ts-modal/modal-class.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","app","service","_tsModalSvc2","_tsModalSvc","$rootScope","$document","$compile","$injector","$q","$timeout","init","containerEl","append","backdropEl","body","getCurrentModal","modalArray","length","destroy","modal","finalDestroy","toggleBody","style","display","isInit","isDestroy","$scope","$destroy","checkAnimate","animateBackdropOut","then","res","buildModal","data","tsModalReady","_id","newModalContainEl","angular","copy","modalContainEl","newModalEl","modalEl","directiveEl","element","_utils","dashCase","_options","directive","forEach","item","key","attr","addClass","size","zIndex","push","containEl","el","addEventListener","clickEventHandler","controlIn","animateBackdropIn","animateModalIn","setFocus","controlOut","removeEventListener","removeEvents","animateDuration","animateModalOut","remove","Velocity","opacity","translateY","delay","easing","duration","complete","$applyAsync","resolve","reject","paddingRight","getScrollbarWidth","bodyClass","animate","console","warn","label","go","type","pop","getPromise","inputWithAutofocus","querySelector","focus","addEvents","keyPressHandler","e","keyCode","closeEscape","target","closeBackdrop","open","opts","$new","newModal","_modalClass2","setPromise","defer","promise","submit","cancel","_modalClass","guid","window","crypto","getRandomValues","buf","Uint16Array","S4","num","ret","toString","replace","r","Math","random","v","str","$1","toLowerCase","cleanValidateOptions","options","_typeof","has","assign","_defaultOptions2","promises","names","_loop","all","o","outer","document","createElement","visibility","width","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","scrollWidth","clientWidth","undefined","Symbol","iterator","constructor","_defaultOptions","backdrop","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","_class","arguments","_defer"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\texports.default = function (app) {\n\t\tapp.service('tsModalService', _tsModalSvc2.default);\n\t};\n\t\n\tvar _tsModalSvc = __webpack_require__(1);\n\t\n\tvar _tsModalSvc2 = _interopRequireDefault(_tsModalSvc);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\texports.default = [\"$rootScope\", \"$document\", \"$compile\", \"$injector\", \"$q\", \"$timeout\", function ($rootScope, $document, $compile, $injector, $q, $timeout) {\n\t\t\"ngInject\";\n\t\n\t\t// variables\n\t\n\t\tvar $scope = void 0,\n\t\t    modalArray = [],\n\t\t    isInit = true,\n\t\t    isDestroy = false,\n\t\t    bodyClass = '__body-modal-active',\n\t\n\t\n\t\t// elements and templates\n\t\tbody = angular.element($document[0].body),\n\t\t    containerEl = angular.element('<div class=\"modal-container\"></div>'),\n\t\t    backdropEl = angular.element('<div class=\"modal-backdrop\"></div>'),\n\t\t    modalContainEl = angular.element('<div class=\"modal-contain\" tabindex=\"0\"></div>'),\n\t\t    modalEl = angular.element('<div class=\"modal\"></div>');\n\t\n\t\t/**\n\t  * initialize (only called once)\n\t  * no modals present, build structure\n\t  */\n\t\tfunction init() {\n\t\t\tcontainerEl.append(backdropEl);\n\t\t\tbody.append(containerEl);\n\t\t}\n\t\n\t\t/**\n\t  * Get Current Modal\n\t  * @returns Modal {*} || null\n\t  */\n\t\tfunction getCurrentModal() {\n\t\t\treturn modalArray.length ? modalArray[modalArray.length - 1] : null;\n\t\t}\n\t\n\t\t/**\n\t  * destroy\n\t  * remove backdrop and final cleanup\n\t  */\n\t\tfunction destroy(modal) {\n\t\t\tvar finalDestroy = function finalDestroy() {\n\t\t\t\ttoggleBody();\n\t\t\t\tcontainerEl[0].style.display = 'none';\n\t\t\t\tmodalArray = []; // empty modal array\n\t\t\t\tisInit = true;\n\t\t\t\tisDestroy = false;\n\t\t\t\t$scope.$destroy(); // destroy $scope\n\t\t\t\t$scope = null;\n\t\t\t};\n\t\n\t\t\t// remove backdrop from view & initiate final cleanup\n\t\t\tif (checkAnimate(modal)) {\n\t\t\t\tanimateBackdropOut(modal).then(function (res) {\n\t\t\t\t\treturn finalDestroy();\n\t\t\t\t}); // wait till animation finishes\n\t\t\t} else {\n\t\t\t\t\tbackdropEl[0].style.display = 'none';\n\t\t\t\t\tif ($scope) {\n\t\t\t\t\t\tfinalDestroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t  * build modal\n\t  * add elements, compile and add to DOM\n\t  * @param modal\n\t  * @param data\n\t  */\n\t\tfunction buildModal(modal, data) {\n\t\t\tdata = data || {}; // if data isn't set\n\t\t\tdata.tsModalReady = false; // modal helper (animation is done and modal is ready)\n\t\t\t$scope.data[modal._id] = data; // set data to unique item in object\n\t\n\t\t\tvar newModalContainEl = angular.copy(modalContainEl),\n\t\t\t    // element needed to control z-index with backdrop\n\t\t\tnewModalEl = angular.copy(modalEl),\n\t\t\t    // element to be animated\n\t\t\tdirectiveEl = angular.element( // dynamically building directive\n\t\t\t'<' + (0, _utils.dashCase)(modal._options.directive) + '>\\n\\t\\t\\t\\t\\t\\t </' + (0, _utils.dashCase)(modal._options.directive) + '>');\n\t\n\t\t\t// apply attributes to directive element - assign each object item _id\n\t\t\tangular.forEach(data, function (item, key) {\n\t\t\t\tdirectiveEl.attr((0, _utils.dashCase)(key), 'data[\\'' + modal._id + '\\'].' + key);\n\t\t\t});\n\t\n\t\t\t// apply options\n\t\t\tnewModalContainEl.addClass('modal-contain--' + modal._options.size); // set size\n\t\t\tnewModalContainEl.addClass('modal-contain--' + modal._options.display); // set display\n\t\t\tnewModalContainEl[0].style.zIndex = modalArray.length * 2 + 1; // set z-index\n\t\n\t\t\t// add modal to modal array\n\t\t\tmodalArray.push({\n\t\t\t\tdata: modal,\n\t\t\t\tcontainEl: newModalContainEl,\n\t\t\t\tel: newModalEl\n\t\t\t});\n\t\n\t\t\t// create click event for containEl\n\t\t\tnewModalContainEl[0].addEventListener('click', clickEventHandler);\n\t\n\t\t\t// build modal elements\n\t\t\tnewModalEl.append(directiveEl);\n\t\t\tnewModalContainEl.append(newModalEl);\n\t\t\tcontainerEl.append(newModalContainEl);\n\t\t\t$compile(newModalContainEl)($scope);\n\t\n\t\t\tcontrolIn(getCurrentModal()); // show\n\t\t}\n\t\n\t\t/**\n\t  * Control In\n\t  * control what happens when the modal is Opened\n\t  * @param modal\n\t  */\n\t\tfunction controlIn(modal) {\n\t\t\tbackdropEl[0].style.zIndex = modalArray.length * 2 - 2; // set backdrop z-index\n\t\t\tcontainerEl[0].style.display = 'block'; // display some elements\n\t\n\t\t\t// bring modal into view\n\t\t\tif (checkAnimate(modal)) {\n\t\t\t\tif (isInit) {\n\t\t\t\t\ttoggleBody(); // toggle body classes and stuff\n\t\t\t\t\tanimateBackdropIn(modal); // animate backdrop in\n\t\t\t\t}\n\t\t\t\tanimateModalIn(modal); // animate modal in\n\t\t\t} else {\n\t\t\t\t\tmodal.el[0].style.display = 'block'; // manually show modal\n\t\t\t\t\tbackdropEl[0].style.display = 'block'; // manually show backdrop\n\t\t\t\t\tsetFocus(modal.containEl); // focus on modal\n\t\t\t\t}\n\t\t\tisInit = false; // done initializing\n\t\t}\n\t\n\t\t/**\n\t  * Control Out\n\t  * control what happens when a modal is closed\n\t  * @param modal\n\t  */\n\t\tfunction controlOut(modal) {\n\t\t\tbackdropEl[0].style.zIndex = modalArray.length * 2 - 2; // change backdrop z-index position\n\t\t\tmodal.containEl[0].removeEventListener('click', clickEventHandler); // remove\n\t\n\t\t\t// if last modal, wait for duration/2 to see if another modal is starting - if not, destroy\n\t\t\t$timeout(function () {\n\t\t\t\tif (modalArray.length == 0) {\n\t\t\t\t\tisDestroy = true;removeEvents();destroy(modal);\n\t\t\t\t}\n\t\t\t}, modal.data._options.animateDuration / 2);\n\t\n\t\t\t// remove modal from view\n\t\t\tcheckAnimate(modal) ? animateModalOut(modal) : modal.containEl.remove();\n\t\t}\n\t\n\t\t/**\n\t  * Animate Modal In\n\t  * @param modal\n\t  */\n\t\tfunction animateModalIn(modal) {\n\t\t\tVelocity(modal.el, {\n\t\t\t\topacity: [1, .5],\n\t\t\t\ttranslateY: [0, '-120%']\n\t\t\t}, {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tdelay: 100,\n\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function complete() {\n\t\t\t\t\tsetFocus(modal.containEl); // focus on the modal container\n\t\t\t\t\t$scope.$applyAsync(function () {\n\t\t\t\t\t\treturn $scope.data[modal.data._id].tsModalReady = true;\n\t\t\t\t\t}); // modal helpers\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t  * Animate Modal Out\n\t  * @param modal\n\t  */\n\t\tfunction animateModalOut(modal) {\n\t\t\tVelocity(modal.el, {\n\t\t\t\topacity: .6,\n\t\t\t\ttranslateY: '-120%'\n\t\t\t}, {\n\t\t\t\tdisplay: 'none',\n\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function complete() {\n\t\t\t\t\treturn modal.containEl.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t  * Animate Backdrop In\n\t  * @param modal\n\t  */\n\t\tfunction animateBackdropIn(modal) {\n\t\t\tVelocity(backdropEl, {\n\t\t\t\topacity: [1, 0]\n\t\t\t}, {\n\t\t\t\tdisplay: 'block',\n\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\tduration: modal.data._options.animateDuration\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t  * Animate Backdrop Out\n\t  * Destroying relies on this component being finished\n\t  * @param modal\n\t  * @returns {Promise}\n\t  */\n\t\tfunction animateBackdropOut(modal) {\n\t\t\treturn $q(function (resolve, reject) {\n\t\t\t\tVelocity(backdropEl, {\n\t\t\t\t\topacity: 0\n\t\t\t\t}, {\n\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\treturn $scope ? resolve() : reject();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t  * toggle body class\n\t  * mimics scrollbar spacing\n\t  */\n\t\tfunction toggleBody() {\n\t\t\tbody[0].style.paddingRight = (isInit ? (0, _utils.getScrollbarWidth)(body) : 0) + 'px';\n\t\t\tbody[isInit ? 'addClass' : 'removeClass'](bodyClass);\n\t\t}\n\t\n\t\t/**\n\t  * check if animation is possible\n\t  * @param modal\n\t  * @returns {boolean}\n\t  */\n\t\tfunction checkAnimate(modal) {\n\t\t\tif (!Velocity) {\n\t\t\t\tconsole.warn(_utils.label + ' Velocity library is not available - cannot animate');return false;\n\t\t\t} else if (modal.data._options.animate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t  * GO\n\t  * both submit and cancel remove the modal,\n\t  * the only difference is one is 'resolved' and the other is 'rejected'\n\t  * @param data\n\t  * @param type\n\t  */\n\t\tfunction go(data, type) {\n\t\t\tvar modal = getCurrentModal(); // get current/visible modal\n\t\t\tif (modal) {\n\t\t\t\tmodalArray.pop(); // remove modal from modalArray\n\t\t\t\tcontrolOut(modal); // handle modal elements/events etc\n\t\t\t\tmodal.data.getPromise()[type == 'submit' ? 'resolve' : 'reject'](data); // resolve or reject\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t  * set Focus\n\t  * once the modal is displayed, set focus\n\t  * @param el\n\t  */\n\t\tfunction setFocus(el) {\n\t\t\tvar inputWithAutofocus = el[0].querySelector('[autofocus]');\n\t\t\tif (inputWithAutofocus) {\n\t\t\t\tinputWithAutofocus.focus();\n\t\t\t} else {\n\t\t\t\tel[0].focus();\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t  * EVENTS AND HANDLERS\n\t  */\n\t\tvar addEvents = function addEvents() {\n\t\t\treturn $document[0].addEventListener('keydown', keyPressHandler);\n\t\t};\n\t\tvar removeEvents = function removeEvents() {\n\t\t\treturn $document[0].removeEventListener('keydown', keyPressHandler);\n\t\t};\n\t\tvar keyPressHandler = function keyPressHandler(e) {\n\t\t\tif (e.keyCode == 27 && getCurrentModal().data._options.closeEscape) {\n\t\t\t\tgo(null, 'cancel');\n\t\t\t}\n\t\t};\n\t\tvar clickEventHandler = function clickEventHandler(e) {\n\t\t\tvar modal = getCurrentModal();\n\t\t\tif (e.target == modal.containEl[0] && modal.data._options.closeBackdrop && !isInit) {\n\t\t\t\tgo(null, 'cancel');\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t  * PUBLIC API\n\t  */\n\t\treturn {\n\t\t\t/**\n\t   * open modal\n\t   * @param opts (opts.directive is required)\n\t   * @returns {Promise} Modal\n\t   */\n\t\n\t\t\topen: function open(opts) {\n\t\t\t\tif (!$scope) {\n\t\t\t\t\t$scope = $rootScope.$new(); // create a new scope\n\t\t\t\t\t$scope.data = {}; // added data into the scope\n\t\t\t\t\taddEvents(); // start global events\n\t\t\t\t}\n\t\n\t\t\t\t// create new modal\n\t\t\t\tvar newModal = new _modalClass2.default(opts, $injector); // create new modal class\n\t\t\t\tnewModal.setPromise($q.defer()); // set deferred promise\n\t\t\t\tif (isInit) init(); // initialize\n\t\n\t\t\t\tif (opts.resolve) {\n\t\t\t\t\t// if there's stuff to resolve, do that before building modal\n\t\t\t\t\t(0, _utils.resolve)($q, opts.resolve).then(function (res) {\n\t\t\t\t\t\treturn buildModal(newModal, res);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbuildModal(newModal); // else just build the modal\n\t\t\t\t}\n\t\t\t\treturn newModal.getPromise().promise; // return promise\n\t\t\t},\n\t\n\t\n\t\t\t/**\n\t   * submit and cancel\n\t   * @param data\n\t   */\n\t\t\tsubmit: function submit(data) {\n\t\t\t\tgo(data, 'submit');\n\t\t\t},\n\t\t\tcancel: function cancel(data) {\n\t\t\t\tgo(data, 'cancel');\n\t\t\t}\n\t\t};\n\t}];\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _modalClass = __webpack_require__(4);\n\t\n\tvar _modalClass2 = _interopRequireDefault(_modalClass);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.label = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\texports.guid = guid;\n\texports.dashCase = dashCase;\n\texports.cleanValidateOptions = cleanValidateOptions;\n\texports.resolve = resolve;\n\texports.getScrollbarWidth = getScrollbarWidth;\n\t\n\tvar _defaultOptions = __webpack_require__(3);\n\t\n\tvar _defaultOptions2 = _interopRequireDefault(_defaultOptions);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar label = exports.label = '[tsModalService]';\n\t\n\t/**\n\t * create guid\n\t * @returns {*} guid\n\t */\n\tfunction guid() {\n\t\treturn (typeof window.crypto != 'undefined' && typeof window.crypto.getRandomValues != 'undefined' ? function () {\n\t\t\t// If we have a cryptographically secure PRNG\n\t\t\tvar buf = new Uint16Array(8);\n\t\t\twindow.crypto.getRandomValues(buf);\n\t\t\tvar S4 = function S4(num) {\n\t\t\t\tvar ret = num.toString(16);\n\t\t\t\twhile (ret.length < 4) {\n\t\t\t\t\tret = \"0\" + ret;\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t\treturn S4(buf[0]) + S4(buf[1]) + \"-\" + S4(buf[2]) + \"-\" + S4(buf[3]) + \"-\" + S4(buf[4]) + \"-\" + S4(buf[5]) + S4(buf[6]) + S4(buf[7]);\n\t\t} : function () {\n\t\t\t// Otherwise, just use Math.random\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\t\t\tvar r = Math.random() * 16 | 0,\n\t\t\t\t    v = c == 'x' ? r : r & 0x3 | 0x8;\n\t\t\t\treturn v.toString(16);\n\t\t\t}); // replace\n\t\t})();\n\t}\n\t\n\tfunction dashCase(str) {\n\t\treturn str.replace(/([A-Z])/g, function ($1) {\n\t\t\treturn \"-\" + $1.toLowerCase();\n\t\t});\n\t}\n\t\n\t/**\n\t * validate options\n\t * also cleans it up\n\t * @param options\n\t * @param $injector\n\t */\n\tfunction cleanValidateOptions(options, $injector) {\n\t\n\t\t// check if options is an object and if it has a directive property\n\t\tif ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object' || !options.directive) {\n\t\t\tthrow label + ' directive property is required';\n\t\n\t\t\t// check if directive is a string\n\t\t} else if (typeof options.directive !== 'string') {\n\t\t\t\tthrow label + ' directive must be a string';\n\t\n\t\t\t\t// check if directive is available in ng module\n\t\t\t} else if (!$injector.has(options.directive + 'Directive')) {\n\t\t\t\t\tthrow label + ' ' + options.directive + ' is not a valid directive';\n\t\t\t\t}\n\t\n\t\t// assign\n\t\toptions = Object.assign({}, _defaultOptions2.default, options);\n\t\n\t\t// size\n\t\t// force medium default when an unknown value is supplied\n\t\tif (options.size != 'small' && options.size != 'medium' && options.size != 'large') {\n\t\t\tconsole.warn('[Modal Warning] ' + (options.size ? options.size : 'Unknown') + ' is not a valid size - defaulting to \"medium\" (small|medium|large)');\n\t\t\toptions.size = 'medium';\n\t\t}\n\t\n\t\t// display\n\t\t// force 'notification' default when an unknown display is supplied\n\t\tif (options.display != 'component' & options.display != 'notification') {\n\t\t\tconsole.warn(label + ' ' + (options.display ? options.display : 'Unknown') + ' is not a valid display type - defaulting to \"notification\" (component|notification)');\n\t\t\toptions.display = 'scroll';\n\t\t}\n\t\n\t\treturn options;\n\t}\n\t\n\t/**\n\t * Resolve stuff\n\t * wraps a promise around any type of thing\n\t * and won't return until all promises resolve\n\t * @param $q\n\t * @param obj\n\t * @returns {Promise}\n\t */\n\tfunction resolve($q, obj) {\n\t\tvar promises = [];\n\t\tvar names = [];\n\t\n\t\t// wrap stuff in promises\n\t\n\t\tvar _loop = function _loop(r) {\n\t\t\tnames.push(r);\n\t\t\tpromises.push($q(function (resolve) {\n\t\t\t\tif (typeof obj[r] === 'function') {\n\t\t\t\t\tresolve(obj[r]());\n\t\t\t\t} else {\n\t\t\t\t\tresolve(obj[r]);\n\t\t\t\t}\n\t\t\t}));\n\t\t};\n\t\n\t\tfor (var r in obj) {\n\t\t\t_loop(r);\n\t\t}\n\t\n\t\t// send back promise where data is the object unwrapped\n\t\treturn $q.all(promises).then(function (res) {\n\t\t\tvar o = {};\n\t\t\tfor (var i = 0; i < res.length; i++) {\n\t\t\t\to[names[i]] = res[i];\n\t\t\t}\n\t\t\treturn o;\n\t\t});\n\t}\n\t\n\t/**\n\t * get scroll bar width\n\t * @returns {number}\n\t */\n\tfunction getScrollbarWidth(body) {\n\t\tvar outer = document.createElement(\"div\");\n\t\touter.style.visibility = \"hidden\";\n\t\touter.style.width = \"100%\";\n\t\tdocument.body.appendChild(outer);\n\t\n\t\tvar widthNoScroll = outer.offsetWidth;\n\t\touter.style.overflow = \"scroll\";\n\t\n\t\tvar inner = document.createElement(\"div\");\n\t\tinner.style.width = \"100%\";\n\t\touter.appendChild(inner);\n\t\n\t\tvar widthWithScroll = inner.offsetWidth;\n\t\touter.parentNode.removeChild(outer);\n\t\treturn body[0].scrollWidth == body[0].clientWidth ? 0 : widthNoScroll - widthWithScroll;\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = {\n\t\n\t\t/**\n\t  * size\n\t  * decides the width\n\t  * @type string (small|medium|large)\n\t  */\n\t\tsize: 'medium',\n\t\n\t\t/**\n\t  * display\n\t  * decides the display type\n\t  * @type string (component|notification)\n\t  */\n\t\tdisplay: 'notification',\n\t\n\t\t/**\n\t  * backdrop\n\t  * show/hide backdrop\n\t  * @type boolean\n\t  */\n\t\tbackdrop: true,\n\t\n\t\t/**\n\t  * closeBackdrop\n\t  * if true, allows users to close modal by clicking backdrop\n\t  * @type boolean\n\t  */\n\t\tcloseBackdrop: true,\n\t\n\t\t/**\n\t  * closeEscape\n\t  * if true allows users to close modal by pressing 'esc'\n\t  * @type boolean\n\t  */\n\t\tcloseEscape: true,\n\t\n\t\t/**\n\t  * animate\n\t  * whether to animate the modal\n\t  * @type boolean\n\t  */\n\t\tanimate: true,\n\t\n\t\t/**\n\t  * animateDuration\n\t  * duration of animation\n\t  * @type int\n\t  */\n\t\tanimateDuration: 400\n\t\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Class representing a Modal\n\t * used by the Modal service\n\t */\n\t\n\tvar _class = function () {\n\t\t/**\n\t  * create modal\n\t  * @param opts\n\t  * @param $injector\n\t  */\n\t\n\t\tfunction _class() {\n\t\t\tvar opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\t\tvar $injector = arguments[1];\n\t\n\t\t\t_classCallCheck(this, _class);\n\t\n\t\t\t// make sure all params and options are in order\n\t\t\tthis._options = (0, _utils.cleanValidateOptions)(opts, $injector);\n\t\t\tthis._id = (0, _utils.guid)();\n\t\t}\n\t\n\t\t_createClass(_class, [{\n\t\t\tkey: 'setPromise',\n\t\t\tvalue: function setPromise(defer) {\n\t\t\t\tthis._defer = defer;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getPromise',\n\t\t\tvalue: function getPromise() {\n\t\t\t\treturn this._defer;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn _class;\n\t}();\n\t\n\texports.default = _class;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c0b9764ca9a5693a53e3\n **/","import tsModalSvc from './ts-modal-svc';\n\nexport default function(app) {\n\tapp.service('tsModalService', tsModalSvc);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/index.js\n **/","import { resolve, dashCase, label, getScrollbarWidth } from './_utils';\nimport modalClass from './modal-class';\n\nexport default function($rootScope, $document, $compile, $injector, $q, $timeout) {\n\t\"ngInject\";\n\n\t// variables\n\tlet $scope,\n\t\t\tmodalArray = [],\n\t\t\tisInit = true,\n\t\t\tisDestroy = false,\n\t\t\tbodyClass = '__body-modal-active',\n\n\t\t\t// elements and templates\n\t\t\tbody = angular.element($document[0].body),\n\t\t\tcontainerEl = angular.element(`<div class=\"modal-container\"></div>`),\n\t\t\tbackdropEl = angular.element(`<div class=\"modal-backdrop\"></div>`),\n\t\t\tmodalContainEl = angular.element(`<div class=\"modal-contain\" tabindex=\"0\"></div>`),\n\t\t\tmodalEl = angular.element(`<div class=\"modal\"></div>`);\n\n\n\n\t/**\n\t * initialize (only called once)\n\t * no modals present, build structure\n\t */\n\tfunction init() {\n\t\tcontainerEl.append(backdropEl);\n\t\tbody.append(containerEl);\n\t}\n\n\n\n\t/**\n\t * Get Current Modal\n\t * @returns Modal {*} || null\n\t */\n\tfunction getCurrentModal() {\n\t\treturn modalArray.length\n\t\t\t\t? modalArray[modalArray.length-1]\n\t\t\t\t: null;\n\t}\n\n\n\n\t/**\n\t * destroy\n\t * remove backdrop and final cleanup\n\t */\n\tfunction destroy(modal) {\n\t\tlet finalDestroy = () => {\n\t\t\ttoggleBody();\n\t\t\tcontainerEl[0].style.display = 'none';\n\t\t\tmodalArray = [];    // empty modal array\n\t\t\tisInit = true;\n\t\t\tisDestroy = false;\n\t\t\t$scope.$destroy();  // destroy $scope\n\t\t\t$scope = null;\n\t\t};\n\n\t\t// remove backdrop from view & initiate final cleanup\n\t\tif (checkAnimate(modal)) {\n\t\t\tanimateBackdropOut(modal).then(res => finalDestroy()); // wait till animation finishes\n\t\t} else {\n\t\t\tbackdropEl[0].style.display = 'none';\n\t\t\tif ($scope) { finalDestroy() }\n\t\t}\n\t}\n\n\n\n\t/**\n\t * build modal\n\t * add elements, compile and add to DOM\n\t * @param modal\n\t * @param data\n\t */\n\tfunction buildModal(modal, data) {\n\t\tdata = data || {};              // if data isn't set\n\t\tdata.tsModalReady = false;      // modal helper (animation is done and modal is ready)\n\t\t$scope.data[modal._id] = data;  // set data to unique item in object\n\n\t\tlet newModalContainEl = angular.copy(modalContainEl), // element needed to control z-index with backdrop\n\t\t\t\tnewModalEl = angular.copy(modalEl),               // element to be animated\n\t\t\t\tdirectiveEl = angular.element(                    // dynamically building directive\n\t\t\t\t\t\t`<${dashCase(modal._options.directive)}>\n\t\t\t\t\t\t </${dashCase(modal._options.directive)}>`);\n\n\t\t// apply attributes to directive element - assign each object item _id\n\t\tangular.forEach(data, (item, key) => {\n\t\t\tdirectiveEl.attr(dashCase(key), `data['${modal._id}'].${key}`);\n\t\t});\n\n\t\t// apply options\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.size}`);      // set size\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.display}`);   // set display\n\t\tnewModalContainEl[0].style.zIndex = (modalArray.length*2)+1;              // set z-index\n\n\t\t// add modal to modal array\n\t\tmodalArray.push({\n\t\t\tdata: modal,\n\t\t\tcontainEl: newModalContainEl,\n\t\t\tel: newModalEl\n\t\t});\n\n\t\t// create click event for containEl\n\t\tnewModalContainEl[0].addEventListener('click', clickEventHandler);\n\n\t\t// build modal elements\n\t\tnewModalEl.append(directiveEl);\n\t\tnewModalContainEl.append(newModalEl);\n\t\tcontainerEl.append(newModalContainEl);\n\t\t$compile(newModalContainEl)($scope);\n\n\t\tcontrolIn(getCurrentModal()); // show\n\t}\n\n\n\n\t/**\n\t * Control In\n\t * control what happens when the modal is Opened\n\t * @param modal\n\t */\n\tfunction controlIn(modal) {\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2; // set backdrop z-index\n\t\tcontainerEl[0].style.display = 'block';               // display some elements\n\n\t\t// bring modal into view\n\t\tif (checkAnimate(modal)) {\n\t\t\tif (isInit) {\n\t\t\t\ttoggleBody();                         // toggle body classes and stuff\n\t\t\t\tanimateBackdropIn(modal);             // animate backdrop in\n\t\t\t}\n\t\t\tanimateModalIn(modal);                  // animate modal in\n\t\t} else {\n\t\t\tmodal.el[0].style.display = 'block';    // manually show modal\n\t\t\tbackdropEl[0].style.display = 'block';  // manually show backdrop\n\t\t\tsetFocus(modal.containEl);              // focus on modal\n\t\t}\n\t\tisInit = false;                           // done initializing\n\t}\n\n\n\n\t/**\n\t * Control Out\n\t * control what happens when a modal is closed\n\t * @param modal\n\t */\n\tfunction controlOut(modal) {\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2;               // change backdrop z-index position\n\t\tmodal.containEl[0].removeEventListener('click', clickEventHandler); // remove\n\n\t\t// if last modal, wait for duration/2 to see if another modal is starting - if not, destroy\n\t\t$timeout(() => {\n\t\t\tif (modalArray.length==0) { isDestroy = true; removeEvents(); destroy(modal); }\n\t\t}, modal.data._options.animateDuration/2);\n\n\t\t// remove modal from view\n\t\tcheckAnimate(modal) ? animateModalOut(modal) : modal.containEl.remove();\n\t}\n\n\n\n\t/**\n\t * Animate Modal In\n\t * @param modal\n\t */\n\tfunction animateModalIn(modal) {\n\t\tVelocity(modal.el, {\n\t\t\topacity: [1, .5],\n\t\t\ttranslateY: [0, `-120%`]\n\t\t}, {\n\t\t\tdisplay: 'block',\n\t\t\tdelay: 100,\n\t\t\teasing: 'easeOutCubic',\n\t\t\tduration: modal.data._options.animateDuration,\n\t\t\tcomplete: () => {\n\t\t\t\tsetFocus(modal.containEl);  // focus on the modal container\n\t\t\t\t$scope.$applyAsync(() => $scope.data[modal.data._id].tsModalReady = true );   // modal helpers\n\t\t\t}\n\t\t})\n\t}\n\n\n\n\t/**\n\t * Animate Modal Out\n\t * @param modal\n\t */\n\tfunction animateModalOut(modal) {\n\t\tVelocity(modal.el, {\n\t\t\topacity: .6,\n\t\t\ttranslateY: `-120%`\n\t\t}, {\n\t\t\tdisplay: 'none',\n\t\t\teasing: 'easeInOutQuad',\n\t\t\tduration: modal.data._options.animateDuration,\n\t\t\tcomplete: () => modal.containEl.remove()\n\t\t});\n\t}\n\n\n\n\t/**\n\t * Animate Backdrop In\n\t * @param modal\n\t */\n\tfunction animateBackdropIn(modal) {\n\t\tVelocity(backdropEl, {\n\t\t\topacity: [1, 0]\n\t\t}, {\n\t\t\tdisplay: 'block',\n\t\t\teasing: 'easeOutCubic',\n\t\t\tduration: modal.data._options.animateDuration\n\t\t});\n\t}\n\n\n\n\t/**\n\t * Animate Backdrop Out\n\t * Destroying relies on this component being finished\n\t * @param modal\n\t * @returns {Promise}\n\t */\n\tfunction animateBackdropOut(modal) {\n\t\treturn $q((resolve, reject) => {\n\t\t\tVelocity(backdropEl, {\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\tdisplay: 'none',\n\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: () => $scope ? resolve() : reject()\n\t\t\t});\n\t\t});\n\t}\n\n\n\n\t/**\n\t * toggle body class\n\t * mimics scrollbar spacing\n\t */\n\tfunction toggleBody() {\n\t\tbody[0].style.paddingRight = `${isInit ? getScrollbarWidth(body) : 0}px`;\n\t\tbody[isInit ? 'addClass' : 'removeClass'](bodyClass);\n\t}\n\n\n\n\t/**\n\t * check if animation is possible\n\t * @param modal\n\t * @returns {boolean}\n\t */\n\tfunction checkAnimate(modal) {\n\t\tif (!Velocity) { console.warn(`${label} Velocity library is not available - cannot animate`); return false; }\n\t\telse if (modal.data._options.animate) { return true; }\n\t}\n\n\n\n\t/**\n\t * GO\n\t * both submit and cancel remove the modal,\n\t * the only difference is one is 'resolved' and the other is 'rejected'\n\t * @param data\n\t * @param type\n\t */\n\tfunction go(data, type) {\n\t\tlet modal = getCurrentModal(); // get current/visible modal\n\t\tif (modal) {\n\t\t\tmodalArray.pop();   // remove modal from modalArray\n\t\t\tcontrolOut(modal);  // handle modal elements/events etc\n\t\t\tmodal.data.getPromise()[type=='submit' ? 'resolve' : 'reject'](data); // resolve or reject\n\t\t}\n\t}\n\n\n\n\t/**\n\t * set Focus\n\t * once the modal is displayed, set focus\n\t * @param el\n\t */\n\tfunction setFocus(el) {\n\t\tvar inputWithAutofocus = el[0].querySelector('[autofocus]');\n\t\tif (inputWithAutofocus) { inputWithAutofocus.focus(); } else { el[0].focus() }\n\t}\n\n\n\n\t/**\n\t * EVENTS AND HANDLERS\n\t */\n\tlet addEvents = () => $document[0].addEventListener('keydown', keyPressHandler);\n\tlet removeEvents = () => $document[0].removeEventListener('keydown', keyPressHandler);\n\tlet keyPressHandler = (e) => {\n\t\tif (e.keyCode == 27 && getCurrentModal().data._options.closeEscape) {\n\t\t\tgo(null, 'cancel');\n\t\t}\n\t};\n\tlet clickEventHandler = (e) => {\n\t\tlet modal = getCurrentModal();\n\t\tif (e.target == modal.containEl[0] && modal.data._options.closeBackdrop && !isInit) {\n\t\t\tgo(null, 'cancel');\n\t\t}\n\t};\n\n\n\n\t/**\n\t * PUBLIC API\n\t */\n\treturn {\n\t\t/**\n\t\t * open modal\n\t\t * @param opts (opts.directive is required)\n\t\t * @returns {Promise} Modal\n\t\t */\n\t\topen(opts) {\n\t\t\tif (!$scope) {\n\t\t\t\t$scope = $rootScope.$new(); // create a new scope\n\t\t\t\t$scope.data = {};           // added data into the scope\n\t\t\t\taddEvents();                // start global events\n\t\t\t}\n\n\t\t\t// create new modal\n\t\t\tlet newModal = new modalClass(opts, $injector); // create new modal class\n\t\t\tnewModal.setPromise($q.defer());                // set deferred promise\n\t\t\tif (isInit) init();                             // initialize\n\n\t\t\tif (opts.resolve) {\n\t\t\t\t// if there's stuff to resolve, do that before building modal\n\t\t\t\tresolve($q, opts.resolve).then(res => buildModal(newModal, res) );\n\t\t\t} else {\n\t\t\t\tbuildModal(newModal); // else just build the modal\n\t\t\t}\n\t\t\treturn newModal.getPromise().promise; // return promise\n\t\t},\n\n\t\t/**\n\t\t * submit and cancel\n\t\t * @param data\n\t\t */\n\t\tsubmit(data) { go(data, 'submit') },\n\t\tcancel(data) { go(data, 'cancel') }\n\t};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/ts-modal-svc.js\n **/","import defaultOptions from './_default-options';\nexport const label =  `[tsModalService]`;\n\n/**\n * create guid\n * @returns {*} guid\n */\nexport function guid() {\n\treturn ((typeof(window.crypto) != 'undefined'\n\t\t\t&& typeof(window.crypto.getRandomValues) != 'undefined')\n\t\t\t\t\t? function() { // If we have a cryptographically secure PRNG\n\t\t\t\tvar buf = new Uint16Array(8);\n\t\t\t\twindow.crypto.getRandomValues(buf);\n\t\t\t\tvar S4 = function(num) {\n\t\t\t\t\tvar ret = num.toString(16);\n\t\t\t\t\twhile(ret.length < 4){ ret = \"0\"+ret; }\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t\treturn (S4(buf[0])+S4(buf[1])+\"-\"\n\t\t\t\t+S4(buf[2])+\"-\"+S4(buf[3])+\"-\"\n\t\t\t\t+S4(buf[4])+\"-\"+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n\t\t\t}\n\t\t\t\t\t: function() { // Otherwise, just use Math.random\n\t\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t/[xy]/g,\n\t\t\t\t\t\t\t\tfunction(c) {\n\t\t\t\t\t\t\t\t\tvar r = Math.random()*16|0,\n\t\t\t\t\t\t\t\t\t\t\tv = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t\t\t\t\t\t\treturn v.toString(16);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t); // replace\n\t\t\t}\n\t)();\n}\n\nexport function dashCase(str) {\n\treturn str.replace(/([A-Z])/g, function($1){return \"-\"+$1.toLowerCase()});\n}\n\n\n/**\n * validate options\n * also cleans it up\n * @param options\n * @param $injector\n */\nexport function cleanValidateOptions(options, $injector) {\n\n\t// check if options is an object and if it has a directive property\n\tif (typeof options !== 'object' || !options.directive) {\n\t\tthrow `${label} directive property is required`;\n\n\t\t// check if directive is a string\n\t} else if (typeof options.directive !== 'string') {\n\t\tthrow `${label} directive must be a string`;\n\n\t\t// check if directive is available in ng module\n\t} else if (!$injector.has(options.directive + 'Directive')) {\n\t\tthrow `${label} ${options.directive} is not a valid directive`;\n\t}\n\n\t// assign\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// size\n\t// force medium default when an unknown value is supplied\n\tif (options.size != 'small' && options.size != 'medium' && options.size != 'large') {\n\t\tconsole.warn(`[Modal Warning] ${options.size ? options.size : 'Unknown'} is not a valid size - defaulting to \"medium\" (small|medium|large)`);\n\t\toptions.size = 'medium';\n\t}\n\n\t// display\n\t// force 'notification' default when an unknown display is supplied\n\tif (options.display != 'component' & options.display != 'notification') {\n\t\tconsole.warn(`${label} ${options.display ? options.display : 'Unknown'} is not a valid display type - defaulting to \"notification\" (component|notification)`);\n\t\toptions.display = 'scroll';\n\t}\n\n\treturn options;\n}\n\n\n/**\n * Resolve stuff\n * wraps a promise around any type of thing\n * and won't return until all promises resolve\n * @param $q\n * @param obj\n * @returns {Promise}\n */\nexport function resolve($q, obj) {\n\tlet promises = [];\n\tlet names = [];\n\n\t// wrap stuff in promises\n\tfor (let r in obj) {\n\t\tnames.push(r);\n\t\tpromises.push($q(resolve => {\n\t\t\tif (typeof obj[r] === 'function') {\n\t\t\t\tresolve(obj[r]());\n\t\t\t} else {\n\t\t\t\tresolve(obj[r]);\n\t\t\t}\n\t\t}));\n\t}\n\n\t// send back promise where data is the object unwrapped\n\treturn $q.all(promises).then(\n\t\t\tres => {\n\t\t\t\tlet o = {};\n\t\t\t\tfor (let i=0; i < res.length; i++) {\n\t\t\t\t\to[names[i]] = res[i];\n\t\t\t\t}\n\t\t\t\treturn o;\n\t\t\t}\n\t);\n}\n\n\n/**\n * get scroll bar width\n * @returns {number}\n */\nexport function getScrollbarWidth(body) {\n\tvar outer = document.createElement(\"div\");\n\touter.style.visibility = \"hidden\";\n\touter.style.width = \"100%\";\n\tdocument.body.appendChild(outer);\n\n\tvar widthNoScroll = outer.offsetWidth;\n\touter.style.overflow = \"scroll\";\n\n\tvar inner = document.createElement(\"div\");\n\tinner.style.width = \"100%\";\n\touter.appendChild(inner);\n\n\tvar widthWithScroll = inner.offsetWidth;\n\touter.parentNode.removeChild(outer);\n\treturn body[0].scrollWidth == body[0].clientWidth ? 0 : widthNoScroll - widthWithScroll;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_utils.js\n **/","\nexport default {\n\n\t/**\n\t * size\n\t * decides the width\n\t * @type string (small|medium|large)\n\t */\n\tsize: 'medium',\n\n\t/**\n\t * display\n\t * decides the display type\n\t * @type string (component|notification)\n\t */\n\tdisplay: 'notification',\n\n\t/**\n\t * backdrop\n\t * show/hide backdrop\n\t * @type boolean\n\t */\n\tbackdrop: true,\n\n\t/**\n\t * closeBackdrop\n\t * if true, allows users to close modal by clicking backdrop\n\t * @type boolean\n\t */\n\tcloseBackdrop: true,\n\n\t/**\n\t * closeEscape\n\t * if true allows users to close modal by pressing 'esc'\n\t * @type boolean\n\t */\n\tcloseEscape: true,\n\n\t/**\n\t * animate\n\t * whether to animate the modal\n\t * @type boolean\n\t */\n\tanimate: true,\n\n\t/**\n\t * animateDuration\n\t * duration of animation\n\t * @type int\n\t */\n\tanimateDuration: 400\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_default-options.js\n **/","import { cleanValidateOptions, guid } from './_utils';\n\n/**\n * Class representing a Modal\n * used by the Modal service\n */\nexport default class {\n\t/**\n\t * create modal\n\t * @param opts\n\t * @param $injector\n\t */\n\tconstructor(opts={}, $injector) {\n\t\t// make sure all params and options are in order\n\t\tthis._options = cleanValidateOptions(opts, $injector);\n\t\tthis._id = guid();\n\t}\n\t\n\tsetPromise(defer) {\n\t\tthis._defer = defer;\n\t}\n\n\tgetPromise() {\n\t\treturn this._defer;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/modal-class.js\n **/"],"sourceRoot":""}