{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 29f989cf15a506849da3","webpack:///./app/ts-modal/index.js","webpack:///./app/ts-modal/ts-modal-svc.js","webpack:///./app/ts-modal/_utils.js","webpack:///./app/ts-modal/_default-options.js","webpack:///./app/ts-modal/modal-class.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 29f989cf15a506849da3\n **/","import tsModalSvc from './ts-modal-svc';\n\nexport default function(app) {\n\tapp.service('tsModalService', tsModalSvc);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/index.js\n **/","import { resolve, dashCase, label } from './_utils';\nimport modalClass from './modal-class';\n\nexport default function($rootScope, $document, $compile, $injector, $q, $timeout) {\n\t\"ngInject\";\n\n\t// variables\n\tlet $scope,\n\t\t\tmodalArray = [],\n\t\t\tisInit = true,\n\t\t\tisDestroy = false,\n\n\t// elements\n\t\t\tbody = angular.element($document[0].body),\n\t\t\tcontainerEl = angular.element(`<div class=\"modal-container\"></div>`),\n\t\t\tbackdropEl = angular.element(`<div class=\"modal-backdrop\"></div>`),\n\t\t\tmodalContainEl = angular.element(`<div class=\"modal-contain\" tabindex=\"0\"></div>`),\n\t\t\tmodalEl = angular.element(`<div class=\"modal\"></div>`);\n\n\n\tfunction currentModal() {\n\t\treturn modalArray[modalArray.length-1];\n\t}\n\n\t/**\n\t * initialize\n\t * no modals present, build structure\n\t */\n\tfunction init() {\n\t\tcontainerEl.append(backdropEl);\n\t\tbody.append(containerEl);\n\t}\n\n\t/**\n\t * destroy\n\t * done with modals, clean up\n\t * assumes only one modal is left\n\t */\n\tfunction destroy(modal) {\n\t\tlet finalDestroy = () => {\n\t\t\tcontainerEl[0].style.display = 'none';\n\t\t\tmodalArray = [];\n\t\t\tisInit = true;\n\t\t\tisDestroy = false;\n\t\t\t$scope.$destroy();\n\t\t\t$scope = null;\n\t\t};\n\n\t\tif (modal.data._options.animate && Velocity) {\n\t\t\tVelocity(backdropEl, {\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\tdisplay: 'none',\n\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tif ($scope) {\n\t\t\t\t\t\tfinalDestroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tbackdropEl[0].style.display = 'none';\n\t\t\tif ($scope) {\n\t\t\t\tfinalDestroy();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * build modal\n\t * @param modal\n\t * @param data\n\t */\n\tfunction buildModal(modal, data) {\n\t\t\n\t\t// if data isn't set\n\t\tdata = data || {};\n\n\t\t// add modal helpers to facilitate third-party component quirks\n\t\tdata.tsModalReady = false; // modal is initiated and animation is complete\n\n\t\t// set data\n\t\t$scope.data[modal._id] = data;\n\n\t\t// create new element\n\t\tlet newModalContainEl = angular.copy(modalContainEl),\n\t\t\t\tnewModalEl = angular.copy(modalEl),\n\t\t\t\tdirectiveEl = angular.element(`<${dashCase(modal._options.directive)}></${dashCase(modal._options.directive)}>`);\n\n\t\t// apply data to directive\n\t\tangular.forEach(data, (item, key) => {\n\t\t\tdirectiveEl.attr(dashCase(key), `data['${modal._id}'].${key}`);\n\t\t});\n\n\t\t// set size\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.size}`);\n\n\t\t// set display\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.display}`);\n\n\t\t// set z-index\n\t\tnewModalContainEl[0].style.zIndex = (modalArray.length*2)+1;\n\n\t\t// add modal to modal array\n\t\tmodalArray.push({\n\t\t\tdata: modal,\n\t\t\tcontainEl: newModalContainEl,\n\t\t\tel: newModalEl\n\t\t});\n\n\t\t// create click event for containEl\n\t\tnewModalContainEl[0].addEventListener('click', clickEventHandler);\n\n\t\t// build modal elements\n\t\tnewModalEl.append(directiveEl);\n\t\tnewModalContainEl.append(newModalEl);\n\t\tcontainerEl.append(newModalContainEl);\n\t\t$compile(newModalContainEl)($scope);\n\n\t\t// show\n\t\tcontrolIn(currentModal());\n\t}\n\n\t/**\n\t * Control In\n\t * @param modal\n\t */\n\tfunction controlIn(modal) {\n\n\t\t// set backdrop z-index\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2;\n\n\t\t// display some elements\n\t\tcontainerEl[0].style.display = 'block';\n\n\t\t// if animation is available and set to true\n\t\tif (modal.data._options.animate && Velocity) {\n\t\t\tif (isInit) {\n\t\t\t\t// if this is the first modal, fade in the backdrop\n\t\t\t\tVelocity(backdropEl, {\n\t\t\t\t\topacity: [1, 0]\n\t\t\t\t}, {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\t\tduration: modal.data._options.animateDuration\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tVelocity(modal.el, {\n\t\t\t\topacity: [1, .5],\n\t\t\t\ttranslateY: [0, `-120%`]\n\t\t\t}, {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tdelay: 100,\n\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tif (isInit) {\n\t\t\t\t\t\taddEvents();\n\t\t\t\t\t\tsetFocus(modal.containEl);\n\t\t\t\t\t}\n\t\t\t\t\tisInit = false;\n\t\t\t\t\t// set modal to ready\n\t\t\t\t\t$scope.$applyAsync(function() {\n\t\t\t\t\t\t$scope.data[modal.data._id].tsModalReady = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tmodal.el[0].style.display = 'block';\n\t\t\tbackdropEl[0].style.display = 'block';\n\t\t\tsetFocus(modal.containEl);\n\n\t\t\tif (modal.data._options.animate && !Velocity) {\n\t\t\t\tconsole.warn(`${label} Velocity library is not available - cannot animate`);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Control Out\n\t * @param modal\n\t */\n\tfunction controlOut(modal) {\n\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2;\n\t\tmodal.containEl[0].removeEventListener('click', clickEventHandler);\n\n\t\t// wait for duration/2 to see if another modal is starting\n\t\t// if not, destroy\n\t\t$timeout(() => {\n\t\t\tif (!modalArray.length) {\n\t\t\t\tisDestroy = true;\n\t\t\t\tremoveEvents();\n\t\t\t\tdestroy(modal);\n\t\t\t}\n\t\t}, modal.data._options.animateDuration/2);\n\n\t\tif (modal.data._options.animate && Velocity) {\n\t\t\tVelocity(modal.el, {\n\t\t\t\topacity: .6,\n\t\t\t\ttranslateY: `-120%`\n\t\t\t}, {\n\t\t\t\tdisplay: 'none',\n\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tmodal.containEl.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tmodal.containEl.remove();\n\t\t\tif (modal.data._options.animate && !Velocity) {\n\t\t\t\tconsole.warn(`${label} Velocity library is not available - cannot animate`);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction keyPressHandler(e) {\n\t\tif (e.keyCode == 27 && currentModal().data._options.closeEscape) {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\tfunction clickEventHandler(e) {\n\t\tlet modal = currentModal();\n\t\tif (e.target == modal.containEl[0] && modal.data._options.closeBackdrop && !isInit) {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\tfunction go(data, type) {\n\t\tlet modal = currentModal();\n\t\tif (modal) {\n\t\t\tmodalArray.pop();\n\t\t\tif (type == 'submit') {\n\t\t\t\tmodal.data.getPromise().resolve(data);\n\t\t\t} else {\n\t\t\t\tmodal.data.getPromise().reject(data);\n\t\t\t}\n\t\t\tcontrolOut(modal);\n\t\t}\n\t}\n\n\tfunction cancel(data) {\n\t\tgo(data, 'cancel');\n\t}\n\n\tfunction submit(data) {\n\t\tgo(data, 'submit');\n\t}\n\n\tfunction addEvents() {\n\t\t$document[0].addEventListener('keydown', keyPressHandler);\n\t}\n\n\tfunction removeEvents() {\n\t\t$document[0].removeEventListener('keydown', keyPressHandler);\n\t}\n\n\tfunction setFocus(el) {\n\t\tvar inputWithAutofocus = el[0].querySelector('[autofocus]');\n\t\tif (inputWithAutofocus) {\n\t\t\tinputWithAutofocus.focus();\n\t\t} else {\n\t\t\tel[0].focus();\n\t\t}\n\t}\n\n\n\t/**\n\t * public API\n\t */\n\treturn {\n\t\topen(opts) {\n\t\t\tif (!$scope) {\n\t\t\t\t$scope = $rootScope.$new();\n\t\t\t\t$scope.data = {};\n\t\t\t}\n\n\t\t\t// create new modal\n\t\t\tlet newModal = new modalClass(opts, $injector);\n\n\t\t\tnewModal.setPromise($q.defer());\n\n\t\t\t// init if there's no elements\n\t\t\tif (isInit) init();\n\n\t\t\tif (opts.resolve) {\n\t\t\t\tresolve($q, opts.resolve).then(\n\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\tbuildModal(newModal, res);\n\t\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tbuildModal(newModal);\n\t\t\t}\n\n\t\t\treturn newModal.getPromise().promise;\n\t\t},\n\n\t\tsubmit: submit,\n\t\tcancel: cancel\n\t};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/ts-modal-svc.js\n **/","import defaultOptions from './_default-options';\nexport const label =  `[tsModalService]`;\n\n/**\n * create guid\n * @returns {*} guid\n */\nexport function guid() {\n\treturn ((typeof(window.crypto) != 'undefined'\n\t\t\t&& typeof(window.crypto.getRandomValues) != 'undefined')\n\t\t\t\t\t? function() { // If we have a cryptographically secure PRNG\n\t\t\t\tvar buf = new Uint16Array(8);\n\t\t\t\twindow.crypto.getRandomValues(buf);\n\t\t\t\tvar S4 = function(num) {\n\t\t\t\t\tvar ret = num.toString(16);\n\t\t\t\t\twhile(ret.length < 4){ ret = \"0\"+ret; }\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t\treturn (S4(buf[0])+S4(buf[1])+\"-\"\n\t\t\t\t+S4(buf[2])+\"-\"+S4(buf[3])+\"-\"\n\t\t\t\t+S4(buf[4])+\"-\"+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n\t\t\t}\n\t\t\t\t\t: function() { // Otherwise, just use Math.random\n\t\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t/[xy]/g,\n\t\t\t\t\t\t\t\tfunction(c) {\n\t\t\t\t\t\t\t\t\tvar r = Math.random()*16|0,\n\t\t\t\t\t\t\t\t\t\t\tv = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t\t\t\t\t\t\treturn v.toString(16);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t); // replace\n\t\t\t}\n\t)();\n}\n\nexport function dashCase(str) {\n\treturn str.replace(/([A-Z])/g, function($1){return \"-\"+$1.toLowerCase()});\n}\n\n\n/**\n * validate options\n * also cleans it up\n * @param options\n * @param $injector\n */\nexport function cleanValidateOptions(options, $injector) {\n\n\t// check if options is an object and if it has a directive property\n\tif (typeof options !== 'object' || !options.directive) {\n\t\tthrow `${label} directive property is required`;\n\n\t\t// check if directive is a string\n\t} else if (typeof options.directive !== 'string') {\n\t\tthrow `${label} directive must be a string`;\n\n\t\t// check if directive is available in ng module\n\t} else if (!$injector.has(options.directive + 'Directive')) {\n\t\tthrow `${label} ${options.directive} is not a valid directive`;\n\t}\n\n\t// assign\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// size\n\t// force medium default when an unknown value is supplied\n\tif (options.size != 'small' && options.size != 'medium' && options.size != 'large') {\n\t\tconsole.warn(`[Modal Warning] ${options.size ? options.size : 'Unknown'} is not a valid size - defaulting to \"medium\" (small|medium|large)`);\n\t\toptions.size = 'medium';\n\t}\n\n\t// display\n\t// force 'notification' default when an unknown display is supplied\n\tif (options.display != 'component' & options.display != 'notification') {\n\t\tconsole.warn(`${label} ${options.display ? options.display : 'Unknown'} is not a valid display type - defaulting to \"notification\" (component|notification)`);\n\t\toptions.display = 'scroll';\n\t}\n\n\treturn options;\n}\n\n\nexport function resolve($q, obj) {\n\tlet promises = [];\n\tlet names = [];\n\n\tfor (let r in obj) {\n\t\tnames.push(r);\n\t\tif (typeof obj[r] === 'function') {\n\t\t\tpromises.push($q(resolve => {\n\t\t\t\tresolve(obj[r]())\n\t\t\t}));\n\t\t} else {\n\t\t\tpromises.push($q(resolve => {\n\t\t\t\tresolve(obj[r]);\n\t\t\t}))\n\t\t}\n\t}\n\n\treturn $q.all(promises).then(\n\t\t\tres => {\n\t\t\t\tlet o = {};\n\t\t\t\tfor (let i=0; i < res.length; i++) {\n\t\t\t\t\to[names[i]] = res[i];\n\t\t\t\t}\n\t\t\t\treturn o;\n\t\t\t}\n\t);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_utils.js\n **/","\nexport default {\n\n\t/**\n\t * size\n\t * decides the width\n\t * @type string (small|medium|large)\n\t */\n\tsize: 'medium',\n\n\t/**\n\t * display\n\t * decides the display type\n\t * @type string (component|notification)\n\t */\n\tdisplay: 'notification',\n\n\t/**\n\t * backdrop\n\t * show/hide backdrop\n\t * @type boolean\n\t */\n\tbackdrop: true,\n\n\t/**\n\t * closeBackdrop\n\t * if true, allows users to close modal by clicking backdrop\n\t * @type boolean\n\t */\n\tcloseBackdrop: true,\n\n\t/**\n\t * closeEscape\n\t * if true allows users to close modal by pressing 'esc'\n\t * @type boolean\n\t */\n\tcloseEscape: true,\n\n\t/**\n\t * animate\n\t * whether to animate the modal\n\t * @type boolean\n\t */\n\tanimate: true,\n\n\t/**\n\t * animateDuration\n\t * duration of animation\n\t * @type int\n\t */\n\tanimateDuration: 400\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_default-options.js\n **/","import { cleanValidateOptions, guid } from './_utils';\n\n/**\n * Class representing a Modal\n * used by the Modal service\n */\nexport default class {\n\t/**\n\t * create modal\n\t * @param opts\n\t * @param $injector\n\t */\n\tconstructor(opts={}, $injector) {\n\t\t// make sure all params and options are in order\n\t\tthis._options = cleanValidateOptions(opts, $injector);\n\t\tthis._id = guid();\n\t}\n\t\n\tsetPromise(defer) {\n\t\tthis._defer = defer;\n\t}\n\n\tgetPromise() {\n\t\treturn this._defer;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/modal-class.js\n **/"],"sourceRoot":""}