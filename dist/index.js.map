{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6c503baf00bba8ebcf92","webpack:///./app/ts-modal/index.js","webpack:///./app/ts-modal/ts-modal-svc.js","webpack:///./app/ts-modal/_utils.js","webpack:///./app/ts-modal/_default-options.js","webpack:///./app/ts-modal/modal-class.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA,QAAO,eAAe,SAAS,cAAc;EAC5C,OAAO;;;AAGR,SAAQ,UAJO,UAAS,KAAK;EAC5B,IAAI,QAAQ,kBAAZ;;;AAHD;;AAYA,KAAI,eAAe,uBAAuB;;AAE1C,UAAS,uBAAuB,KAAK,EAAE,OAAO,OAAO,IAAI,aAAa,MAAM,EAAE,SAAS,Q;;;;;;ACdvF;;AAEA,QAAO,eAAe,SAAS,cAAc;EAC5C,OAAO;;;AAGR,SAAQ,iFAHO,UAAS,YAAY,WAAW,UAAU,WAAW,IAAI,UAAU;EACjF;;;;EAGA,IAAI;MACF,aAAa;MACb,SAAS;MACT,YAAY;MACZ,OAAO,QAAQ,QAAQ,UAAU,GAAG;MACpC,YAAY;MACZ,cAAc,QAAQ,QAAR;MACd,aAAa,QAAQ,QAAR;MACb,iBAAiB,QAAQ,QAAR;MACjB,UAAU,QAAQ,QAAR;;;;;;EAMZ,SAAS,OAAO;GACf,YAAY,OAAO;GACnB,KAAK,OAAO;;;;;;;EAOb,SAAS,kBAAkB;GAC1B,OAAO,WAAW,SACd,WAAW,WAAW,SAAO,KAC7B;;;;;;;EAOL,SAAS,QAAQ,OAAO;GACvB,IAAI,eAAe,SAAf,eAAqB;IACxB;IACA,YAAY,GAAG,MAAM,UAAU;IAC/B,aAAa;IACb,SAAS;IACT,YAAY;IACZ,OAAO;IACP,SAAS;;;;GAIV,IAAI,aAAa,QAAQ;IACxB,mBAAmB,OAAO,KAAK;KAAA,OAAO;;UAChC;IACN,WAAW,GAAG,MAAM,UAAU;IAC9B,IAAI,QAAQ;KAAE;;;;;;;;;;EAShB,SAAS,WAAW,OAAO,MAAM;GAChC,OAAO,QAAQ;GACf,KAAK,eAAe;GACpB,OAAO,KAAK,MAAM,OAAO;;GAEzB,IAAI,oBAAoB,QAAQ,KAAK;;GACnC,aAAa,QAAQ,KAAK;;GAC1B,cAAc,QAAQ;GAAR,MACR,qBAAS,MAAM,SAAS,aADhB,uBAEP,qBAAS,MAAM,SAAS,aAFjB;;;GAKhB,QAAQ,QAAQ,MAAM,UAAC,MAAM,KAAQ;IACpC,YAAY,KAAK,qBAAS,MAA1B,YAAyC,MAAM,MAA/C,SAAwD;;;;GAIzD,kBAAkB,SAAlB,oBAA6C,MAAM,SAAS;GAC5D,kBAAkB,SAAlB,oBAA6C,MAAM,SAAS;GAC5D,kBAAkB,GAAG,MAAM,SAAU,WAAW,SAAO,IAAG;;;GAG1D,WAAW,KAAK;IACf,MAAM;IACN,WAAW;IACX,IAAI;;;;GAIL,kBAAkB,GAAG,iBAAiB,SAAS;;;GAG/C,WAAW,OAAO;GAClB,kBAAkB,OAAO;GACzB,YAAY,OAAO;GACnB,SAAS,mBAAmB;;GAE5B,UAAU;;;;;;;;EAQX,SAAS,UAAU,OAAO;GACzB,WAAW,GAAG,MAAM,SAAU,WAAW,SAAO,IAAG;GACnD,YAAY,GAAG,MAAM,UAAU;;;GAG/B,IAAI,aAAa,QAAQ;IACxB,IAAI,QAAQ;KACX;KACA,kBAAkB;;IAEnB,eAAe;UACT;KACN,MAAM,GAAG,GAAG,MAAM,UAAU;KAC5B,WAAW,GAAG,MAAM,UAAU;KAC9B,SAAS,MAAM;;GAEhB,SAAS;;;;;;;;EAQV,SAAS,WAAW,OAAO;GAC1B,WAAW,GAAG,MAAM,SAAU,WAAW,SAAO,IAAG;GACnD,MAAM,UAAU,GAAG,oBAAoB,SAAS;;;GAGhD,SAAS,YAAM;IACd,IAAI,WAAW,UAAQ,GAAG;KAAE,YAAY,KAAM,eAAgB,QAAQ;;MACpE,MAAM,KAAK,SAAS,kBAAgB;;;GAGvC,aAAa,SAAS,gBAAgB,SAAS,MAAM,UAAU;;;EAGhE,SAAS,eAAe,OAAO;GAC9B,SAAS,MAAM,IAAI;IAClB,SAAS,CAAC,GAAG;IACb,YAAY,CAAC,GAAD;MACV;IACF,SAAS;IACT,OAAO;IACP,QAAQ;IACR,UAAU,MAAM,KAAK,SAAS;IAC9B,UAAU,oBAAM;KACf,SAAS,MAAM;KACf,OAAO,YAAY;MAAA,OAAM,OAAO,KAAK,MAAM,KAAK,KAAK,eAAe;;;;;;EAKvE,SAAS,gBAAgB,OAAO;GAC/B,SAAS,MAAM,IAAI;IAClB,SAAS;IACT;MACE;IACF,SAAS;IACT,QAAQ;IACR,UAAU,MAAM,KAAK,SAAS;IAC9B,UAAU;KAAA,OAAM,MAAM,UAAU;;;;;EAIlC,SAAS,kBAAkB,OAAO;GACjC,SAAS,YAAY;IACpB,SAAS,CAAC,GAAG;MACX;IACF,SAAS;IACT,QAAQ;IACR,UAAU,MAAM,KAAK,SAAS;;;;EAIhC,SAAS,mBAAmB,OAAO;GAClC,OAAO,GAAG,UAAC,SAAS,QAAW;IAC9B,SAAS,YAAY;KACpB,SAAS;OACP;KACF,SAAS;KACT,QAAQ;KACR,UAAU,MAAM,KAAK,SAAS;KAC9B,UAAU;MAAA,OAAM,SAAS,YAAY;;;;;;EAKxC,SAAS,aAAa;GACrB,KAAK,SAAS,aAAa,eAAe;GAC1C,KAAK,GAAG,MAAM,eAAd,CAAgC,SAAS,kCAAsB,KAA/D;;;;;;;;EAQD,SAAS,aAAa,OAAO;GAC5B,IAAI,CAAC,UAAU;IAAE,QAAQ,KAAR,sEAA6E,OAAO;UAChG,IAAI,MAAM,KAAK,SAAS,SAAS;IAAE,OAAO;;;;;;;;;;;EAUhD,SAAS,GAAG,MAAM,MAAM;GACvB,IAAI,QAAQ;GACZ,IAAI,OAAO;IACV,WAAW;IACX,WAAW;IACX,MAAM,KAAK,aAAa,QAAM,WAAW,YAAY,UAAU;;;;;;;;;EASjE,SAAS,SAAS,IAAI;GACrB,IAAI,qBAAqB,GAAG,GAAG,cAAc;GAC7C,IAAI,oBAAoB;IAAE,mBAAmB;UAAgB;IAAE,GAAG,GAAG;;;;;EAItE,IAAI,YAAY,SAAZ,YAAY;GAAA,OAAM,UAAU,GAAG,iBAAiB,WAAW;;EAC/D,IAAI,eAAe,SAAf,eAAe;GAAA,OAAM,UAAU,GAAG,oBAAoB,WAAW;;EACrE,IAAI,kBAAkB,SAAlB,gBAAmB,GAAM;GAC5B,IAAI,EAAE,WAAW,MAAM,kBAAkB,KAAK,SAAS,aAAa;IACnE,GAAG,MAAM;;;EAGX,IAAI,oBAAoB,SAApB,kBAAqB,GAAM;GAC9B,IAAI,QAAQ;GACZ,IAAI,EAAE,UAAU,MAAM,UAAU,MAAM,MAAM,KAAK,SAAS,iBAAiB,CAAC,QAAQ;IACnF,GAAG,MAAM;;;;;;;EAOX,OAAO;;;;;;;GAMN,MANM,cAMD,MAAM;IACV,IAAI,CAAC,QAAQ;KACZ,SAAS,WAAW;KACpB,OAAO,OAAO;KACd;;;;IAID,IAAI,WAAW,yBAAe,MAAM;IACpC,SAAS,WAAW,GAAG;IACvB,IAAI,QAAQ;;IAEZ,IAAI,KAAK,SAAS;;KAEjB,oBAAQ,IAAI,KAAK,SAAS,KAAK;MAAA,OAAO,WAAW,UAAU;;WACrD;KACN,WAAW;;IAEZ,OAAO,SAAS,aAAa;;;;;;;;GAO9B,QA/BM,gBA+BC,MAAM;IAAE,GAAG,MAAM;;GACxB,QAhCM,gBAgCC,MAAM;IAAE,GAAG,MAAM;;;;;AAlS1B;;AACA;;AA2UA,KAAI,eAAe,uBAAuB;;AAE1C,UAAS,uBAAuB,KAAK,EAAE,OAAO,OAAO,IAAI,aAAa,MAAM,EAAE,SAAS;;AA1CtF,E;;;;;;ACpSD;;AAEA,QAAO,eAAe,SAAS,cAAc;EAC5C,OAAO;;AAER,SAAQ,QAAQ;;AAEhB,KAAI,UAAU,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAAW,UAAU,KAAK,EAAE,OAAO,OAAO,SAAS,UAAU,KAAK,EAAE,OAAO,OAAO,OAAO,WAAW,cAAc,IAAI,gBAAgB,SAAS,WAAW,OAAO;;AAE1O,SAFgB;AAGhB,SA0BgB;AAzBhB,SAoCgB;AAnChB,SA+EgB;AA9EhB,SA+GgB;;AA5HhB;;AAiBA,KAAI,mBAAmB,uBAAuB;;AAE9C,UAAS,uBAAuB,KAAK,EAAE,OAAO,OAAO,IAAI,aAAa,MAAM,EAAE,SAAS;;AAlBhF,KAAM;;;;;;AAMN,UAAS,OAAO;EACtB,OAAO,CAAE,OAAO,OAAO,UAAW,eAC7B,OAAO,OAAO,OAAO,mBAAoB,cACxC,YAAW;;GACd,IAAI,MAAM,IAAI,YAAY;GAC1B,OAAO,OAAO,gBAAgB;GAC9B,IAAI,KAAK,SAAL,GAAc,KAAK;IACtB,IAAI,MAAM,IAAI,SAAS;IACvB,OAAM,IAAI,SAAS,GAAE;KAAE,MAAM,MAAI;;IACjC,OAAO;;GAER,OAAQ,GAAG,IAAI,MAAI,GAAG,IAAI,MAAI,MAC7B,GAAG,IAAI,MAAI,MAAI,GAAG,IAAI,MAAI,MAC1B,GAAG,IAAI,MAAI,MAAI,GAAG,IAAI,MAAI,GAAG,IAAI,MAAI,GAAG,IAAI;MAE1C,YAAW;;GACd,OAAO,uCACJ,QACC,SACA,UAAS,GAAG;IACX,IAAI,IAAI,KAAK,WAAS,KAAG;QACvB,IAAI,KAAK,MAAM,IAAK,IAAE,MAAI;IAC5B,OAAO,EAAE,SAAS;;;;;AAOpB,UAAS,SAAS,KAAK;EAC7B,OAAO,IAAI,QAAQ,YAAY,UAAS,IAAG;GAAC,OAAO,MAAI,GAAG;;;;;;;;;;AAUpD,UAAS,qBAAqB,SAAS,WAAW;;;EAGxD,IAAI,QAAO,YAAP,oCAAO,cAAY,YAAY,CAAC,QAAQ,WAAW;GACtD,MAAS,QAAT;;;SAGM,IAAI,OAAO,QAAQ,cAAc,UAAU;IACjD,MAAS,QAAT;;;UAGM,IAAI,CAAC,UAAU,IAAI,QAAQ,YAAY,cAAc;KAC3D,MAAS,QAAT,MAAkB,QAAQ,YAA1B;;;;EAID,UAAU,OAAO,OAAO,IAAd,0BAAkC;;;;EAI5C,IAAI,QAAQ,QAAQ,WAAW,QAAQ,QAAQ,YAAY,QAAQ,QAAQ,SAAS;GACnF,QAAQ,KAAR,sBAAgC,QAAQ,OAAO,QAAQ,OAAO,aAA9D;GACA,QAAQ,OAAO;;;;;EAKhB,IAAI,QAAQ,WAAW,cAAc,QAAQ,WAAW,gBAAgB;GACvE,QAAQ,KAAQ,QAAhB,OAAyB,QAAQ,UAAU,QAAQ,UAAU,aAA7D;GACA,QAAQ,UAAU;;;EAGnB,OAAO;;;;;;;;;;;AAYD,UAAS,QAAQ,IAAI,KAAK;EAChC,IAAI,WAAW;EACf,IAAI,QAAQ;;;;EAFoB,2BAKvB,GALuB;GAM/B,MAAM,KAAK;GACX,SAAS,KAAK,GAAG,mBAAW;IAC3B,IAAI,OAAO,IAAI,OAAO,YAAY;KACjC,QAAQ,IAAI;WACN;KACN,QAAQ,IAAI;;;;;EANf,KAAK,IAAI,KAAK,KAAK;GAAA,MAAV;;;;EAYT,OAAO,GAAG,IAAI,UAAU,KACtB,eAAO;GACN,IAAI,IAAI;GACR,KAAK,IAAI,IAAE,GAAG,IAAI,IAAI,QAAQ,KAAK;IAClC,EAAE,MAAM,MAAM,IAAI;;GAEnB,OAAO;;;;;;;;AAUJ,UAAS,oBAAoB;EACnC,IAAI,QAAQ,SAAS,cAAc;EACnC,MAAM,MAAM,aAAa;EACzB,MAAM,MAAM,QAAQ;EACpB,SAAS,KAAK,YAAY;;EAE1B,IAAI,gBAAgB,MAAM;EAC1B,MAAM,MAAM,WAAW;;EAEvB,IAAI,QAAQ,SAAS,cAAc;EACnC,MAAM,MAAM,QAAQ;EACpB,MAAM,YAAY;;EAElB,IAAI,kBAAkB,MAAM;EAC5B,MAAM,WAAW,YAAY;;EAE7B,OAAO,gBAAgB;;;;;;;AC5IxB;;AAEA,QAAO,eAAe,SAAS,cAAc;EAC5C,OAAO;;AAER,SAAQ,UAJO;;;;;;;EAOd,MAAM;;;;;;;EAON,SAAS;;;;;;;EAOT,UAAU;;;;;;;EAOV,eAAe;;;;;;;EAOf,aAAa;;;;;;;EAOb,SAAS;;;;;;;EAOT,iBAAiB;;;;;;;;AClDlB;;AAEA,QAAO,eAAe,SAAS,cAAc;EAC5C,OAAO;;;AAGR,KAAI,eAAe,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AANhiB;;AAUA,UAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;;;;;;AAOhH,KAAI,SAAS,YAAY;;;;;;;EALxB,kBAAgC;GAAA,IAApB,OAAoB,sDAAf,KAAe;GAAA,IAAX,YAAW;;GAAA;;;GAE/B,KAAK,WAAW,iCAAqB,MAAM;GAC3C,KAAK,MAAM;;;EAoBZ,aAAa,QAAQ,CAAC;GACrB,KAAK;GACL,OAAO,SAAS,WAnBN,OAAO;IACjB,KAAK,SAAS;;KAqBZ;GACF,KAAK;GACL,OAAO,SAAS,aApBJ;IACZ,OAAO,KAAK;;;;EAwBb,OAAO;;;AAGR,SAAQ,UAAU,O","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6c503baf00bba8ebcf92\n **/","import tsModalSvc from './ts-modal-svc';\n\nexport default function(app) {\n\tapp.service('tsModalService', tsModalSvc);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/index.js\n **/","import { resolve, dashCase, label, getScrollbarWidth } from './_utils';\nimport modalClass from './modal-class';\n\nexport default function($rootScope, $document, $compile, $injector, $q, $timeout) {\n\t\"ngInject\";\n\n\t// variables\n\tlet $scope,\n\t\t\tmodalArray = [],\n\t\t\tisInit = true,\n\t\t\tisDestroy = false,\n\t\t\tbody = angular.element($document[0].body),\n\t\t\tbodyClass = '__body-modal-active',\n\t\t\tcontainerEl = angular.element(`<div class=\"modal-container\"></div>`),\n\t\t\tbackdropEl = angular.element(`<div class=\"modal-backdrop\"></div>`),\n\t\t\tmodalContainEl = angular.element(`<div class=\"modal-contain\" tabindex=\"0\"></div>`),\n\t\t\tmodalEl = angular.element(`<div class=\"modal\"></div>`);\n\n\t/**\n\t * initialize (only called once)\n\t * no modals present, build structure\n\t */\n\tfunction init() {\n\t\tcontainerEl.append(backdropEl);\n\t\tbody.append(containerEl);\n\t}\n\n\t/**\n\t * Get Current Modal\n\t * @returns Modal {*} || null\n\t */\n\tfunction getCurrentModal() {\n\t\treturn modalArray.length\n\t\t\t\t? modalArray[modalArray.length-1]\n\t\t\t\t: null;\n\t}\n\n\t/**\n\t * destroy\n\t * remove backdrop and final cleanup\n\t */\n\tfunction destroy(modal) {\n\t\tlet finalDestroy = () => {\n\t\t\ttoggleBody();\n\t\t\tcontainerEl[0].style.display = 'none';\n\t\t\tmodalArray = [];    // empty modal array\n\t\t\tisInit = true;\n\t\t\tisDestroy = false;\n\t\t\t$scope.$destroy();  // destroy $scope\n\t\t\t$scope = null;\n\t\t};\n\n\t\t// remove backdrop from view & initiate final cleanup\n\t\tif (checkAnimate(modal)) {\n\t\t\tanimateBackdropOut(modal).then(res => finalDestroy());\n\t\t} else {\n\t\t\tbackdropEl[0].style.display = 'none';\n\t\t\tif ($scope) { finalDestroy() }\n\t\t}\n\t}\n\n\t/**\n\t * build modal\n\t * @param modal\n\t * @param data\n\t */\n\tfunction buildModal(modal, data) {\n\t\tdata = data || {};              // if data isn't set\n\t\tdata.tsModalReady = false;      // modal helper (animation is done and modal is ready)\n\t\t$scope.data[modal._id] = data;  // set data to unique item in object\n\n\t\tlet newModalContainEl = angular.copy(modalContainEl), // element needed to control z-index with backdrop\n\t\t\t\tnewModalEl = angular.copy(modalEl),               // element to be animated\n\t\t\t\tdirectiveEl = angular.element(                    // dynamically building directive\n\t\t\t\t\t\t`<${dashCase(modal._options.directive)}>\n\t\t\t\t\t\t </${dashCase(modal._options.directive)}>`);\n\n\t\t// apply attributes to directive element - assign each object item _id\n\t\tangular.forEach(data, (item, key) => {\n\t\t\tdirectiveEl.attr(dashCase(key), `data['${modal._id}'].${key}`);\n\t\t});\n\n\t\t// apply options\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.size}`);      // set size\n\t\tnewModalContainEl.addClass(`modal-contain--${modal._options.display}`);   // set display\n\t\tnewModalContainEl[0].style.zIndex = (modalArray.length*2)+1;              // set z-index\n\n\t\t// add modal to modal array\n\t\tmodalArray.push({\n\t\t\tdata: modal,\n\t\t\tcontainEl: newModalContainEl,\n\t\t\tel: newModalEl\n\t\t});\n\n\t\t// create click event for containEl\n\t\tnewModalContainEl[0].addEventListener('click', clickEventHandler);\n\n\t\t// build modal elements\n\t\tnewModalEl.append(directiveEl);\n\t\tnewModalContainEl.append(newModalEl);\n\t\tcontainerEl.append(newModalContainEl);\n\t\t$compile(newModalContainEl)($scope);\n\n\t\tcontrolIn(getCurrentModal()); // show\n\t}\n\n\t/**\n\t * Control In\n\t * control what happens when the modal is Opened\n\t * @param modal\n\t */\n\tfunction controlIn(modal) {\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2; // set backdrop z-index\n\t\tcontainerEl[0].style.display = 'block';               // display some elements\n\n\t\t// bring modal into view\n\t\tif (checkAnimate(modal)) {\n\t\t\tif (isInit) {\n\t\t\t\ttoggleBody();                         // toggle body classes and stuff\n\t\t\t\tanimateBackdropIn(modal);             // animate backdrop in\n\t\t\t}\n\t\t\tanimateModalIn(modal);                  // animate modal in\n\t\t} else {\n\t\t\tmodal.el[0].style.display = 'block';    // manually show modal\n\t\t\tbackdropEl[0].style.display = 'block';  // manually show backdrop\n\t\t\tsetFocus(modal.containEl);              // focus on modal\n\t\t}\n\t\tisInit = false;                           // done initializing\n\t}\n\n\t/**\n\t * Control Out\n\t * control what happens when a modal is closed\n\t * @param modal\n\t */\n\tfunction controlOut(modal) {\n\t\tbackdropEl[0].style.zIndex = (modalArray.length*2)-2;               // change backdrop z-index position\n\t\tmodal.containEl[0].removeEventListener('click', clickEventHandler); // remove\n\n\t\t// if last modal, wait for duration/2 to see if another modal is starting - if not, destroy\n\t\t$timeout(() => {\n\t\t\tif (modalArray.length==0) { isDestroy = true; removeEvents(); destroy(modal); }\n\t\t}, modal.data._options.animateDuration/2);\n\n\t\t// remove modal from view\n\t\tcheckAnimate(modal) ? animateModalOut(modal) : modal.containEl.remove();\n\t}\n\n\tfunction animateModalIn(modal) {\n\t\tVelocity(modal.el, {\n\t\t\topacity: [1, .5],\n\t\t\ttranslateY: [0, `-120%`]\n\t\t}, {\n\t\t\tdisplay: 'block',\n\t\t\tdelay: 100,\n\t\t\teasing: 'easeOutCubic',\n\t\t\tduration: modal.data._options.animateDuration,\n\t\t\tcomplete: () => {\n\t\t\t\tsetFocus(modal.containEl);  // focus on the modal container\n\t\t\t\t$scope.$applyAsync(() => $scope.data[modal.data._id].tsModalReady = true );   // modal helpers\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction animateModalOut(modal) {\n\t\tVelocity(modal.el, {\n\t\t\topacity: .6,\n\t\t\ttranslateY: `-120%`\n\t\t}, {\n\t\t\tdisplay: 'none',\n\t\t\teasing: 'easeInOutQuad',\n\t\t\tduration: modal.data._options.animateDuration,\n\t\t\tcomplete: () => modal.containEl.remove()\n\t\t});\n\t}\n\n\tfunction animateBackdropIn(modal) {\n\t\tVelocity(backdropEl, {\n\t\t\topacity: [1, 0]\n\t\t}, {\n\t\t\tdisplay: 'block',\n\t\t\teasing: 'easeOutCubic',\n\t\t\tduration: modal.data._options.animateDuration\n\t\t});\n\t}\n\n\tfunction animateBackdropOut(modal) {\n\t\treturn $q((resolve, reject) => {\n\t\t\tVelocity(backdropEl, {\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\tdisplay: 'none',\n\t\t\t\teasing: 'easeInOutQuad',\n\t\t\t\tduration: modal.data._options.animateDuration,\n\t\t\t\tcomplete: () => $scope ? resolve() : reject()\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction toggleBody() {\n\t\tbody[isInit ? 'addClass' : 'removeClass'](bodyClass);\n\t\tbody[0].style.paddingRight = `${isInit ? getScrollbarWidth() : 0}px`;\n\t}\n\n\t/**\n\t * check if animation is possible\n\t * @param modal\n\t * @returns {boolean}\n\t */\n\tfunction checkAnimate(modal) {\n\t\tif (!Velocity) { console.warn(`${label} Velocity library is not available - cannot animate`); return false; }\n\t\telse if (modal.data._options.animate) { return true; }\n\t}\n\n\t/**\n\t * GO\n\t * both submit and cancel remove the modal,\n\t * the only difference is one is 'resolved' and the other is 'rejected'\n\t * @param data\n\t * @param type\n\t */\n\tfunction go(data, type) {\n\t\tlet modal = getCurrentModal(); // get current/visible modal\n\t\tif (modal) {\n\t\t\tmodalArray.pop();   // remove modal from modalArray\n\t\t\tcontrolOut(modal);  // handle modal elements/events etc\n\t\t\tmodal.data.getPromise()[type=='submit' ? 'resolve' : 'reject'](data); // resolve or reject\n\t\t}\n\t}\n\n\t/**\n\t * set Focus\n\t * once the modal is displayed, set focus\n\t * @param el\n\t */\n\tfunction setFocus(el) {\n\t\tvar inputWithAutofocus = el[0].querySelector('[autofocus]');\n\t\tif (inputWithAutofocus) { inputWithAutofocus.focus(); } else { el[0].focus() }\n\t}\n\n\t// global event handlers\n\tlet addEvents = () => $document[0].addEventListener('keydown', keyPressHandler);\n\tlet removeEvents = () => $document[0].removeEventListener('keydown', keyPressHandler);\n\tlet keyPressHandler = (e) => {\n\t\tif (e.keyCode == 27 && getCurrentModal().data._options.closeEscape) {\n\t\t\tgo(null, 'cancel');\n\t\t}\n\t};\n\tlet clickEventHandler = (e) => {\n\t\tlet modal = getCurrentModal();\n\t\tif (e.target == modal.containEl[0] && modal.data._options.closeBackdrop && !isInit) {\n\t\t\tgo(null, 'cancel');\n\t\t}\n\t};\n\t\n\t/**\n\t * public API\n\t */\n\treturn {\n\t\t/**\n\t\t * open modal\n\t\t * @param opts (opts.directive is required)\n\t\t * @returns {Promise} Modal\n\t\t */\n\t\topen(opts) {\n\t\t\tif (!$scope) {\n\t\t\t\t$scope = $rootScope.$new(); // create a new scope\n\t\t\t\t$scope.data = {};           // added data into the scope\n\t\t\t\taddEvents();                // start global events\n\t\t\t}\n\n\t\t\t// create new modal\n\t\t\tlet newModal = new modalClass(opts, $injector); // create new modal class\n\t\t\tnewModal.setPromise($q.defer());                // set deferred promise\n\t\t\tif (isInit) init();                             // initialize\n\n\t\t\tif (opts.resolve) {\n\t\t\t\t// if there's stuff to resolve, so that before building modal\n\t\t\t\tresolve($q, opts.resolve).then(res => buildModal(newModal, res) );\n\t\t\t} else {\n\t\t\t\tbuildModal(newModal); // else just build the modal\n\t\t\t}\n\t\t\treturn newModal.getPromise().promise; // return promise\n\t\t},\n\n\t\t/**\n\t\t * submit and cancel\n\t\t * @param data\n\t\t */\n\t\tsubmit(data) { go(data, 'submit') },\n\t\tcancel(data) { go(data, 'cancel') }\n\t};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/ts-modal-svc.js\n **/","import defaultOptions from './_default-options';\nexport const label =  `[tsModalService]`;\n\n/**\n * create guid\n * @returns {*} guid\n */\nexport function guid() {\n\treturn ((typeof(window.crypto) != 'undefined'\n\t\t\t&& typeof(window.crypto.getRandomValues) != 'undefined')\n\t\t\t\t\t? function() { // If we have a cryptographically secure PRNG\n\t\t\t\tvar buf = new Uint16Array(8);\n\t\t\t\twindow.crypto.getRandomValues(buf);\n\t\t\t\tvar S4 = function(num) {\n\t\t\t\t\tvar ret = num.toString(16);\n\t\t\t\t\twhile(ret.length < 4){ ret = \"0\"+ret; }\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t\treturn (S4(buf[0])+S4(buf[1])+\"-\"\n\t\t\t\t+S4(buf[2])+\"-\"+S4(buf[3])+\"-\"\n\t\t\t\t+S4(buf[4])+\"-\"+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n\t\t\t}\n\t\t\t\t\t: function() { // Otherwise, just use Math.random\n\t\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t/[xy]/g,\n\t\t\t\t\t\t\t\tfunction(c) {\n\t\t\t\t\t\t\t\t\tvar r = Math.random()*16|0,\n\t\t\t\t\t\t\t\t\t\t\tv = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t\t\t\t\t\t\treturn v.toString(16);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t); // replace\n\t\t\t}\n\t)();\n}\n\nexport function dashCase(str) {\n\treturn str.replace(/([A-Z])/g, function($1){return \"-\"+$1.toLowerCase()});\n}\n\n\n/**\n * validate options\n * also cleans it up\n * @param options\n * @param $injector\n */\nexport function cleanValidateOptions(options, $injector) {\n\n\t// check if options is an object and if it has a directive property\n\tif (typeof options !== 'object' || !options.directive) {\n\t\tthrow `${label} directive property is required`;\n\n\t\t// check if directive is a string\n\t} else if (typeof options.directive !== 'string') {\n\t\tthrow `${label} directive must be a string`;\n\n\t\t// check if directive is available in ng module\n\t} else if (!$injector.has(options.directive + 'Directive')) {\n\t\tthrow `${label} ${options.directive} is not a valid directive`;\n\t}\n\n\t// assign\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// size\n\t// force medium default when an unknown value is supplied\n\tif (options.size != 'small' && options.size != 'medium' && options.size != 'large') {\n\t\tconsole.warn(`[Modal Warning] ${options.size ? options.size : 'Unknown'} is not a valid size - defaulting to \"medium\" (small|medium|large)`);\n\t\toptions.size = 'medium';\n\t}\n\n\t// display\n\t// force 'notification' default when an unknown display is supplied\n\tif (options.display != 'component' & options.display != 'notification') {\n\t\tconsole.warn(`${label} ${options.display ? options.display : 'Unknown'} is not a valid display type - defaulting to \"notification\" (component|notification)`);\n\t\toptions.display = 'scroll';\n\t}\n\n\treturn options;\n}\n\n\n/**\n * Resolve stuff\n * wraps a promise around any type of thing\n * and won't return until all promises resolve\n * @param $q\n * @param obj\n * @returns {Promise}\n */\nexport function resolve($q, obj) {\n\tlet promises = [];\n\tlet names = [];\n\n\t// wrap stuff in promises\n\tfor (let r in obj) {\n\t\tnames.push(r);\n\t\tpromises.push($q(resolve => {\n\t\t\tif (typeof obj[r] === 'function') {\n\t\t\t\tresolve(obj[r]());\n\t\t\t} else {\n\t\t\t\tresolve(obj[r]);\n\t\t\t}\n\t\t}));\n\t}\n\n\t// send back promise where data is the object unwrapped\n\treturn $q.all(promises).then(\n\t\t\tres => {\n\t\t\t\tlet o = {};\n\t\t\t\tfor (let i=0; i < res.length; i++) {\n\t\t\t\t\to[names[i]] = res[i];\n\t\t\t\t}\n\t\t\t\treturn o;\n\t\t\t}\n\t);\n}\n\n\n/**\n * get scroll bar width\n * @returns {number}\n */\nexport function getScrollbarWidth() {\n\tvar outer = document.createElement(\"div\");\n\touter.style.visibility = \"hidden\";\n\touter.style.width = \"100px\";\n\tdocument.body.appendChild(outer);\n\n\tvar widthNoScroll = outer.offsetWidth;\n\touter.style.overflow = \"scroll\";\n\n\tvar inner = document.createElement(\"div\");\n\tinner.style.width = \"100%\";\n\touter.appendChild(inner);\n\n\tvar widthWithScroll = inner.offsetWidth;\n\touter.parentNode.removeChild(outer);\n\n\treturn widthNoScroll - widthWithScroll;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_utils.js\n **/","\nexport default {\n\n\t/**\n\t * size\n\t * decides the width\n\t * @type string (small|medium|large)\n\t */\n\tsize: 'medium',\n\n\t/**\n\t * display\n\t * decides the display type\n\t * @type string (component|notification)\n\t */\n\tdisplay: 'notification',\n\n\t/**\n\t * backdrop\n\t * show/hide backdrop\n\t * @type boolean\n\t */\n\tbackdrop: true,\n\n\t/**\n\t * closeBackdrop\n\t * if true, allows users to close modal by clicking backdrop\n\t * @type boolean\n\t */\n\tcloseBackdrop: true,\n\n\t/**\n\t * closeEscape\n\t * if true allows users to close modal by pressing 'esc'\n\t * @type boolean\n\t */\n\tcloseEscape: true,\n\n\t/**\n\t * animate\n\t * whether to animate the modal\n\t * @type boolean\n\t */\n\tanimate: true,\n\n\t/**\n\t * animateDuration\n\t * duration of animation\n\t * @type int\n\t */\n\tanimateDuration: 400\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/_default-options.js\n **/","import { cleanValidateOptions, guid } from './_utils';\n\n/**\n * Class representing a Modal\n * used by the Modal service\n */\nexport default class {\n\t/**\n\t * create modal\n\t * @param opts\n\t * @param $injector\n\t */\n\tconstructor(opts={}, $injector) {\n\t\t// make sure all params and options are in order\n\t\tthis._options = cleanValidateOptions(opts, $injector);\n\t\tthis._id = guid();\n\t}\n\t\n\tsetPromise(defer) {\n\t\tthis._defer = defer;\n\t}\n\n\tgetPromise() {\n\t\treturn this._defer;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/ts-modal/modal-class.js\n **/"],"sourceRoot":""}